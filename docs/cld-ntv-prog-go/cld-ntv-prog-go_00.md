# 前言

云计算和微服务是现代软件架构中非常重要的概念。它们代表了雄心勃勃的软件工程师需要掌握的关键技能，以便设计和构建能够执行和扩展的软件应用程序。Go 是一种现代的跨平台编程语言，非常强大而简单；它是微服务和云应用的绝佳选择。Go 正变得越来越受欢迎，成为一种非常有吸引力的技能。

本书将带您进入微服务和云计算的世界，借助 Go 语言。它将从涵盖云应用程序的软件架构模式开始，以及关于如何扩展、分发和部署这些应用程序的实际概念。从那里，本书将深入探讨编写生产级微服务及其在典型云环境中部署所需的技术和设计方法。

完成本书后，您将学会如何编写有效的生产级微服务，可以部署到云中，实际了解亚马逊云服务的世界，并知道如何构建非平凡的 Go 应用程序。

# 本书涵盖的内容

《现代微服务架构》第一章通过描述基于云的应用程序和微服务架构的典型特征来开启本书。我们还将为一个虚构的应用程序建立需求和高层架构，该应用程序将作为本书后续章节的持续示例。

第二章《使用 REST API 构建微服务》讨论了如何使用 Go 语言构建现代微服务。我们将涵盖重要且非平凡的主题。通过本章的学习，您将具备足够的知识来构建可以暴露 RESTFul API、支持持久性并能有效与其他服务通信的微服务。

第三章《保护微服务》向您展示如何保护您的微服务。您将学习如何在 Go 语言中处理证书和 HTTPS。

第四章《异步微服务架构》介绍了如何使用消息队列实现异步微服务架构。为此，我们将概述已建立的消息队列软件，如 RabbitMQ 和 Apache Kafka，并介绍 Go 库，以将这些组件集成到您的软件中。我们还将讨论与异步架构配合良好的事件协作和事件溯源等架构模式。

第五章《使用 React 构建前端》从 Go 世界稍微偏离，进入 JavaScript 世界，并向您展示如何使用 React 框架为基于微服务的项目构建 Web 前端。为此，我们将简要概述 React 的基本架构原则，以及如何为现有的 REST API 构建基于 React 的前端。

第六章《在容器中部署您的应用程序》展示了如何使用应用程序容器以便携和可重复的方式部署 Go 应用程序。您将学习安装和使用 Docker，以及如何为自己的 Go 应用程序构建自定义 Docker 镜像。此外，我们还将描述如何使用 Kubernetes 编排引擎在大规模云环境中部署容器化应用程序。

第七章《AWS - 基础知识，AWS Go SDK 和 AWS EC2》是两章中的第一章，涵盖了 AWS 生态系统。在本章中，我们将详细介绍 AWS。您将接触到一些重要的概念，比如如何设置 AWS 服务器实例，如何利用 AWS API 功能，以及如何编写能够与 AWS 交互的 Go 应用程序。

第八章，“AWS – S3、SQS、API Gateway 和 DynamoDB”，继续更详细地介绍了 AWS 生态系统。您将深入了解 AWS 世界中的热门服务。通过本章结束时，您将具备足够的知识，能够利用亚马逊云服务的功能构建非平凡的 Go 云应用程序。

第九章，“持续交付”，描述了如何为 Go 应用程序实现基本的持续交付流水线。为此，我们将描述持续交付的基本原则，以及如何使用 Travis CI 和 Gitlab 等工具实现简单的流水线。我们将使用 Docker 镜像作为部署工件，并将这些镜像部署到 Kubernetes 集群中，从而构建在第四章，“异步微服务架构”中涵盖的主题和技能基础上。

第十章，“监控您的应用程序”，向您展示了如何使用 Prometheus 和 Grafana 监控您的微服务架构。我们将介绍 Prometheus 的基本架构，并描述如何使用 Docker 设置 Prometheus 实例。此外，您还将学习如何调整您的 Go 应用程序以公开可以被 Prometheus 抓取的指标。我们还将描述如何使用 Grafana 为 Prometheus 设置图形用户界面。

第十一章，“迁移”，涵盖了从传统的单片应用程序迁移到现代微服务云应用程序时需要考虑的实际因素和方法。

第十二章，“下一步该去哪里？”，向您展示了从这里继续学习旅程的方向。它将涵盖其他现代与云相关的技术，值得探索，比如替代通信协议、其他云提供商，以及可能成为下一个大事件的新架构范式。

# 本书所需内容

对于本书，您应该具备一些 Go 编程语言的基本知识（如果您仍在寻求开始学习 Go，我们可以推荐 Packt 出版的 Vladimir Vivien 的书《学习 Go 编程》）。为了运行本书提供的代码示例，您还需要在本地计算机上安装一个可用的 Go SDK（Go 1.7 或更新版本）。请前往[`golang.org/dl/`](https://golang.org/dl/)获取下载和安装说明。

在本书的许多实际示例中，您将需要一个可用的 Docker 安装（尽管不需要有使用 Docker 的先前经验）。请查看[`www.docker.com/community-edition`](https://www.docker.com/community-edition)获取下载和安装说明。

在第五章，“使用 React 构建前端”，您还需要一些基本的 JavaScript 编程知识，以及本地计算机上安装的 Node.JS。您可以从[`nodejs.org/en/#download`](https://nodejs.org/en/#download)下载当前版本的 Node.JS。

# 本书的目标读者

本书面向希望构建安全、弹性、健壮和可扩展云原生应用程序的 Go 开发人员。一些关于 Web 服务和 Web 编程的知识应该足以帮助您完成本书。

# 约定

在本书中，您将找到一些区分不同信息类型的文本样式。以下是一些这些样式的示例及其含义的解释。

文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄都显示如下：“`react-router-dom`包为我们的应用程序添加了一些新组件。”

代码块设置如下：

```go
import * as React from "react"; 
import {Link} from "react-router-dom"; 

export interface NavigationProps { 
  brandName: string; 
} 

export class Navigation extends React.Component<NavigationProps, {}> { 
} 
```

任何命令行输入或输出都将如下所示：

```go
$ npm install --save react-router-dom
$ npm install --save-dev @types/react-router-dom
```

**新术语**和**重要词汇**以粗体显示。屏幕上看到的单词，例如菜单或对话框中的单词，会在文本中出现，就像这样：“为此，请在登录后点击“创建存储库”，并为您的图像选择一个新名称。”

警告或重要提示会以这样的方式出现在框中。

提示和技巧会以这样的方式出现。
