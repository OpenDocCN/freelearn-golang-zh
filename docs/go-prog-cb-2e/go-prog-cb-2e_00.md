# 前言

感谢您选择这本书！我希望它能成为开发人员快速查阅 Go 开发模式的便利参考。它旨在成为其他资源的伴侣和一个参考，希望在阅读一次后长久有用。本书中的每个配方都包括可用作参考或应用程序基础的工作、简单和经过测试的代码。本书涵盖了从基础到高级主题的各种内容。

# 这本书是为谁准备的

这本书面向 Web 开发人员、程序员和企业开发人员。假定具有 Go 语言的基本知识。对后端应用程序开发的经验并非必需，但可能有助于理解一些配方背后的动机。

这本书是为已经熟练的 Go 开发人员提供快速提醒、示例或参考的好资源。通过开源存储库，也可以快速与团队分享这些示例。如果你正在寻找 Go 编程中常见和不太常见问题的快速解决方案，这本书适合你。

# 本书涵盖了什么

第一章，“I/O 和文件系统”，涵盖了常见的 Go I/O 接口，并探讨了与文件系统的工作。这包括临时文件、模板和 CSV 文件。

第二章，“命令行工具”，介绍了通过命令行接受用户输入，并探讨了处理常见数据类型如 TOML、YAML 和 JSON。

第三章，“数据转换和组合”，演示了在 Go 接口和数据类型之间进行转换和转换的方法。它还展示了 Go 的编码策略和一些功能设计模式。

第四章，“Go 中的错误处理”，展示了处理 Go 中错误的策略。它探讨了如何传递错误、处理错误和记录错误。

第五章，“网络编程”，演示了各种网络原语的使用，如 UDP 和 TCP/IP。它还探讨了域名系统（DNS）、处理原始电子邮件消息以及基本的远程过程调用（RPC）。

第六章，“关于数据库和存储的一切”，涉及了用于访问数据存储系统（如 MySQL）的各种存储库。它还演示了使用接口来将库与应用程序逻辑解耦。

第七章，“Web 客户端和 API”，实现了 Go HTTP 客户端接口、REST 客户端、OAuth2 客户端、装饰和扩展客户端以及 gRPC。

第八章，“Go 语言应用的微服务”，探讨了 web 处理程序、向处理程序传递状态、用户输入验证和中间件。

第九章，“测试 Go 代码”，着重于模拟、测试覆盖率、模糊测试、行为测试和有用的测试工具。

第十章，“并行和并发”，提供了通道和异步操作、原子值、Go 上下文对象和通道状态管理的参考。

第十一章，“分布式系统”，实现了服务发现、Docker 容器化、度量和监控以及编排。它主要涉及 Go 应用程序的部署和生产。

第十二章，“响应式编程和数据流”，探讨了响应式和数据流应用程序、Kafka 和分布式消息队列以及 GraphQL 服务器。

第十三章，*无服务器编程*，涉及在不维护服务器的情况下部署 Go 应用程序。这包括使用 Google App Engine，Firebase，Lambda 以及在无服务器环境中登录。

第十四章，*性能改进，技巧和窍门*，涉及基准测试，识别瓶颈，优化和改进 Go 应用程序的 HTTP 性能。

# 为了充分利用本书

要使用本书，您需要以下内容：

+   Unix 编程环境。

+   Go 1.x 系列的最新版本。

+   互联网连接。

+   根据每章描述安装附加软件包的权限。

+   每个配方的先决条件和其他安装要求都在各章的*技术要求*部分中提到。

# 下载示例代码文件

您可以从您在[www.packtpub.com](http://www.packtpub.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便文件直接通过电子邮件发送给您。

您可以按照以下步骤下载代码文件：

1.  在[www.packtpub.com](http://www.packtpub.com/support)登录或注册。

1.  选择“支持”选项卡。

1.  单击“代码下载和勘误”。

1.  在搜索框中输入书名并按照屏幕上的说明操作。

下载文件后，请确保使用最新版本的解压缩或提取文件夹：

+   Windows 的 WinRAR/7-Zip

+   Mac 的 Zipeg/iZip/UnRarX

+   Linux 的 7-Zip/PeaZip

该书的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Go-Programming-Cookbook-Second-Edition`](https://github.com/PacktPublishing/Go-Programming-Cookbook-Second-Edition)。我们还有其他代码包，可以从我们丰富的书籍和视频目录中获得，网址为**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**。请查看！

# 代码实例

访问以下链接以查看代码运行的视频：[`bit.ly/2J2uqQ3`](http://bit.ly/2J2uqQ3)

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：指示文本中的代码字，数据库表名，文件夹名，文件名，文件扩展名，路径名，虚拟 URL，用户输入和 Twitter 句柄。这是一个例子：“`bytes`库在处理数据时提供了许多方便的功能。”

代码块设置如下：

```go
                b, err := ioutil.ReadAll(r)
                if err != nil {
                    return "", err
                }
                return string(b), nil
        }
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体设置：

```go
        package bytestrings

        import (
                "bytes"
                "io"
                "io/ioutil"
        )
```

任何命令行输入或输出都以以下方式编写：

```go
$ go mod init github.com/PacktPublishing/Go-Programming-Cookbook-Second-Edition/Chapter01/interfaces
```

**粗体**：表示新术语，重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会以这种方式出现在文本中。这是一个例子：“从管理面板中选择系统信息。”

警告或重要说明会以这种方式出现。

技巧和窍门会以这种方式出现。

# 各节

在本书中，您会经常看到几个标题（*准备工作*，*如何做…*，*工作原理…*，*还有更多…*和*另请参阅*）。

为了清晰地说明如何完成一个配方，使用以下各节：

# 准备工作

本节告诉您在配方中可以期待什么，并描述了为配方设置任何所需软件或任何预备设置的方法。

# 如何做…

本节包含遵循配方所需的步骤。

# 工作原理…

本节通常包括对上一节中发生的事情的详细解释。

# 还有更多…

本节包含有关配方的其他信息，以使您对配方更加了解。

# 另请参阅

本节为配方提供了其他有用信息的链接。
