<html><head></head><body>
<div class="book" title="Chapter&#xA0;2.&#xA0;Go Language Essentials">
<div class="book" title="The Go source file">
<div class="book" title="Multiple lines"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec25" class="calibre1"/>Multiple lines</h2></div></div></div><p class="calibre10">Breaking up expressions into multiple lines must follow the semi-colon rules discussed in the previous section. Mainly, in a multi-line expression, each line must end with a token that prevents the premature insertion of a semi-colon, as illustrated in the following table. It should be noted that rows in the table with an invalid expression will not compile:</p><div class="informaltable"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre20"><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Expression</strong></span></p>
</td><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Valid</strong></span></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">lonStr := "Hello World! " +
"How are you?"
</pre>
</td><td class="calibre22">
<p class="calibre23">Yes, the <code class="literal">+</code> operator prevents a premature semi-colon from being inserted.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">lonStr := "Hello World! "
+ "How are you?"
</pre>
</td><td class="calibre22">
<p class="calibre23">No, a semi-colon will be inserted after the first line, semantically breaking the line.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">fmt.Printf("[%s] %d %d %v",
str,
num1,
num2,
nameMap)
</pre>
</td><td class="calibre22">
<p class="calibre23">Yes, the comma properly breaks the expression.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">fmt.Printf("[%s] %d %d %v",
str,
num1,
num2,
nameMap)
</pre>
</td><td class="calibre22">
<p class="calibre23">Yes, the compiler inserts a semi-colon only after the last line.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">
weekDays := []string{
"Mon", "Tue",
"Wed", "Thr",
"Fri"
}
</pre>
</td><td class="calibre22">
<p class="calibre23">No, the <code class="literal">Fri</code> line causes a premature semi-colon to be inserted.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">
weekDays2 := []string{
"Mon", "Tue",
"Wed", "Thr",
"Fri",
}
</pre>
</td><td class="calibre22">
<p class="calibre23">Yes, the <code class="literal">Fri</code> line contains a trailing comma, which causes compiler to insert a semi-colon at the next line.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><code class="literal">weekDays1 := []string{</code><code class="literal">"Mon", "Tue",</code><code class="literal">"Wed", "Thr",</code><code class="literal">"Fri"}</code></p>
</td><td class="calibre22">
<p class="calibre23">Yes, the semi-colon is inserted after the line with the closing bracket.</p>
</td></tr></tbody></table></div><p class="calibre10">You may wonder why the Go compiler puts the onus on the developer to provide line-break hints to indicate the end of a statement. Surely, Go designers could have devised an elaborate algorithm to figure this out automatically. Yes, they could have. However, by keeping the syntax simple and predictable, the compiler is able to quickly parse and compile Go source code.</p><div class="informaltable" title="Note"><h3 class="title2"><a id="note3" class="calibre1"/>Note</h3><p class="calibre10">The Go toolchain includes the gofmt tool, which can be used to consistently apply proper formatting rules to your source code. There is also the <code class="email">govet</code>Â tool, which goes much further by analyzing your code for structural problems with code elements.</p></div></div></div></div></body></html>