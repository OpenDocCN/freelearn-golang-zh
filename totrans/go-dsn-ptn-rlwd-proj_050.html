<html><head></head><body>
<div class="book" title="Go variables">
<div class="book" title="Omitting variable types"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec33" class="calibre1"/>Omitting variable types</h2></div></div></div><p class="calibre10">So far, we have discussed what is called the long form of Go's variable declaration and initialization. To make the language feel closer to its dynamically-typed cousins, the type specification can be omitted, as shown in the following declaration format:</p><p class="calibre10"><span class="strong"><em class="calibre11">var &lt;identifier list&gt; = &lt;value list or initializer expressions&gt;</em></span></p><p class="calibre10">During compilation, the compiler infers the type of the variable based on the assigned value or the initializer expression on the right-hand side of the equal sign, as shown in the following example.</p><pre class="programlisting">var name, desc = "Mars", "Planet" 
var radius = 6755 
var mass = 641693000000000.0 
var active = true 
var satellites = []string{ 
  "Phobos", 
  "Deimos", 
} 
</pre><p class="calibre10">golang.fyi/ch02/vardec3.go</p><p class="calibre10">As stated earlier, when a variable is assigned a value, it must receive a type along with that value. When the type of the variable is omitted, the type information is deduced from the assigned value or the returned value of an expression. The following table shows the type that is inferred given a literal value:</p><div class="informaltable"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre20"><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Literal value</strong></span></p>
</td><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Inferred type</strong></span></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Double- or single-quoted (raw) text: <code class="literal">"Planet Mars"</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">"All planets revolve around the Sun."</code></p>
</td><td class="calibre22">
<p class="calibre23"><code class="literal">string</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Integers:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">-76</code></p><p class="calibre23">
</p><p class="calibre23">0</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">1244</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">1840</code></p>
</td><td class="calibre22">
<p class="calibre23"><code class="literal">int</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Decimals:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">-0.25</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">4.0</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">3.1e4</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">7e-12</code></p>
</td><td class="calibre22">
<p class="calibre23"><code class="literal">float64</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Complex numbers:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">-5.0i</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">3i</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">(0+4i)</code></p>
</td><td class="calibre22">
<p class="calibre23"><code class="literal">complex128</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Booleans:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">true</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">false</code></p>
</td><td class="calibre22">
<p class="calibre23"><code class="literal">bool</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Array values:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">[2]int{-76, 8080}</code></p>
</td><td class="calibre22">
<p class="calibre23">The <code class="literal">array</code> type defined in the literal value. In this case it is: <code class="literal">[2]int</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Map values:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">map[string]int{</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">  "Sun": 685800, </code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">  "Earth": 6378,</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">  "Mars": 3396,</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">}</code></p>
</td><td class="calibre22">
<p class="calibre23">The map type defined in the literal value. In this case it is: <code class="literal">map[string]int</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Slice values:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">[]int{-76, 0, 1244, 1840}</code></p>
</td><td class="calibre22">
<p class="calibre23">The <code class="literal">slice</code> type defined in the literal value:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">[]int</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Struct values:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">struct{</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">  name string</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">  diameter int}</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">{</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">  "Mars", 3396,</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">}</code></p>
</td><td class="calibre22">
<p class="calibre23">A <code class="literal">struct</code> type as defined in the literal value. In this case the type is:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">struct{name string; diameter int}</code></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">Function values:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">var sqr = func (v int)   int {</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">  return v * v</code></p><p class="calibre23">
</p><p class="calibre23"><code class="literal">}</code></p>
</td><td class="calibre22">
<p class="calibre23">The function type defined in the function definition literal. In this <code class="literal">case</code>, <code class="literal">variable</code><code class="literal">sqr</code> will have type:</p><p class="calibre23">
</p><p class="calibre23"><code class="literal">func (v int) int</code></p>
</td></tr></tbody></table></div></div></div></body></html>