<html><head></head><body>
<div class="book" title="Go constants">
<div class="book" title="Assigning untyped constants"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec41" class="calibre1"/>Assigning untyped constants</h2></div></div></div><p class="calibre10">Untyped constant values are of limited use until they are assigned to variables, used as function parameters, or are part of an expression assigned to a variable. In a strongly-typed language like Go, this means there is a potential for some type adjustment to ensure that the value stored in the constant can be properly assigned to the target variable. One advantage of using untyped constants is that the type system relaxes the strict application of type checking. An untyped constant can be assigned to different, though compatible, types of different precision without any complaint from the compiler, as shown in the following example:</p><pre class="programlisting">const m2 = 1.414213562373095048801688724209698078569671875376... 
var u1 float32 = m2 
var u2 float64 = m2 
u3 := m2 
</pre><p class="calibre10">The previous snippet shows the untyped constant <code class="email">m2</code> being assigned to two variables of different floating-point precisions, <code class="email">u1</code> and <code class="email">u2</code>, and to an untyped variable, <code class="email">u3</code>. This is possible because constant <code class="email">m2</code> is stored as a raw untyped value and can therefore be assigned to any variable compatible with its representation (a floating point).</p><p class="calibre10">While the type system will accommodate the assignment of <code class="email">m2</code> to variables of different precision, the resulting assignment is adjusted to fit the variable type, as noted in the following:</p><pre class="programlisting">u1 = 1.4142135      //float32 
u2 = 1.4142135623730951   //float64 
</pre><p class="calibre10">What about variable <code class="email">u3</code>, which is itself an untyped variable? Since <code class="email">u3</code> does not have a specified type, it will rely on type inference from the constant value to receive a type assignment. Recall from the discussion in the section <span class="strong"><em class="calibre11">Omitting Variable Types</em></span> earlier, that constant literals are mapped to basic Go types based on their textual representations. Since constant <code class="email">m2</code> represents a decimal value, the compiler will infer its default to be a <code class="email">float64</code>, which will be automatically assigned to variable <code class="email">u3</code>, as shown:</p><pre class="programlisting">U3 = 1.4142135623730951  //float64 
</pre><p class="calibre10">As you can see, Go's treatment of untyped raw constant literals increases the language's usability by automatically applying some simple, but effective, type inference rules without sacrificing type-safety. Unlike other languages, developers do not have to explicitly specify the type in the value literal or perform some sort of typecast to make this work.</p></div></div></body></html>