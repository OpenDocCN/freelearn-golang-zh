<html><head></head><body>
<div class="book" title="Switch statements">
<div class="book" title="Using expression switches"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec55" class="calibre1"/>Using expression switches</h2></div></div></div><p class="calibre10">Expression switches are flexible and can be used in many contexts where control flow of a program needs to follow multiple path. An expression switch supports many attributes, as outlined in the following bullets:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Expression switches can test values of any types. For instance, the following code snippet (from the previous program listing) tests variable <code class="email">Curr</code> of type <code class="email">struct</code>:<pre class="programlisting">      func isDollar(curr Curr) bool { 
        var bool result 
        switch curr { 
          default: 
          result = false 
          case Curr{"AUD", "Australian Dollar", "Australia", 36}: 
          result = true 
          case Curr{"HKD", "Hong Kong Dollar", "Hong Koong", 344}: 
          result = true 
          case Curr{"USD", "US Dollar", "United States", 840}: 
          result = true 
        } 
        return result 
      } </pre></li><li class="listitem">The expressions in <code class="email">case</code> clauses are evaluated from left to right, top to bottom, until a value (or expression) is found that is equal to that of the <code class="email">switch</code> expression.</li><li class="listitem">Upon encountering the first case that matches the <code class="email">switch</code> expression, the program will execute the statements for the <code class="email">case</code> block and then immediately exit the <code class="email">switch</code> block. Unlike other languages, the Go <code class="email">case</code> statement does not need to use a break to avoid falling through the next case (see the <span class="strong"><em class="calibre11">Fallthrough cases</em></span> section). For instance, calling <code class="email">isDollar(Curr{"HKD", "Hong Kong Dollar", "Hong Kong", 344})</code> will match the second <code class="email">case</code> statement in the preceding function. The code will set the result to <code class="email">true</code> and exit the <code class="email">switch</code> code block immediately.</li><li class="listitem"><code class="email">Case</code> clauses can have multiple values (or expressions) separated by commas with a logical <code class="email">OR</code> operator implied between them. For instance, in the following snippet, the <code class="email">switch</code> expression <code class="email">curr</code> is tested against values <code class="email">currencies[2]</code>, <code class="email">currencies[4]</code>, or <code class="email">currencies[10]</code>, using one case clause until a match is found:<pre class="programlisting">      func isEuro(curr Curr) bool { 
        switch curr { 
          case currencies[2], currencies[4], currencies[10]: 
          return true 
          default: 
          return false 
        } 
      } 
</pre></li><li class="listitem">The <code class="email">switch</code> statement is the cleaner and preferred idiomatic approach to writing complex conditional statements in Go. This is evident when the preceding snippet is compared to the following, which does the same comparison using <code class="email">if</code> statements:<pre class="programlisting">      func isEuro(curr Curr) bool { 
        if curr == currencies[2] || curr == currencies[4],  
        curr == currencies[10]{ 
        return true 
      }else{ 
        return false 
      } 
    } 
</pre></li></ul></div></div></div></body></html>