<html><head></head><body>
<div class="book" title="Switch statements">
<div class="book" title="The fallthrough cases"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec56" class="calibre1"/>The fallthrough cases</h2></div></div></div><p class="calibre10">There is no automatic <span class="strong"><em class="calibre11">fall through</em></span> in Go's <code class="email">case</code> clause as there is in the C or Java <code class="email">switch</code> statements. Recall that a <code class="email">switch</code> block will exit after executing its first matching case. The code must explicitly place the <code class="email">fallthrough</code> keyword, as the last statement in a <code class="email">case</code> block, to force the execution flow to fall through the successive <code class="email">case</code> block. The following code snippet shows a <code class="email">switch</code> statement with a <code class="email">fallthrough</code> in each case block:</p><pre class="programlisting">func isDollar2(curr Curr) bool { 
  switch curr { 
  case Curr{"AUD", "Australian Dollar", "Australia", 36}: 
    fallthrough 
  case Curr{"HKD", "Hong Kong Dollar", "Hong Kong", 344}: 
    fallthrough 
  case Curr{"USD", "US Dollar", "United States", 840}: 
    return true 
  default: 
    return false 
  } 
} 
</pre><p class="calibre10">golang.fyi/ch03/switchstmt.go</p><p class="calibre10">When a case is matched, the <code class="email">fallthrough</code> statements cascade down to the first statement of the successive <code class="email">case</code> block. So, if <code class="email">curr = Curr{"AUD", "Australian Dollar", "Australia", 36}</code>, the first case will be matched. Then the flow cascades down to the first statement of the second case block, which is also a <code class="email">fallthrough</code> statement. This causes the first statement, to return <code class="email">true</code>, of the third case block to execute. This is functionally equivalent to the following snippet:</p><pre class="programlisting">switch curr {  
case Curr{"AUD", "Australian Dollar", "Australia", 36},  
     Curr{"HKD", "Hong Kong Dollar", "Hong Kong", 344},  
     Curr{"USD", "US Dollar", "United States", 840}:  
  return true 
default: 
   return false 
}  
</pre></div></div></body></html>