<html><head></head><body>
<div class="book" title="Pointers" id="TI1E1-9c484ed022e64a0fb0e1aebf8e05d4fd">
<div class="book" title="The new() function"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch04lvl2sec78" class="calibre1"/>The new() function</h2></div></div></div><p class="calibre10">The built-in function <span class="strong"><em class="calibre11">new(&lt;type&gt;)</em></span> can also be used to initialize a pointer value. It first allocates the appropriate memory for a zero-value of the specified type. The function then returns the address for the newly created value. The following program uses the <code class="email">new()</code> function to initialize variables <code class="email">intptr</code> and <code class="email">p</code>:</p><pre class="programlisting">package main 
import "fmt" 
 
func main() { 
   intptr := new(int) 
   *intptr = 44 
 
   p := new(struct{ first, last string }) 
   p.first = "Samuel" 
   p.last = "Pierre" 
 
   fmt.Printf("Value %d, type %T\n", *intptr, intptr) 
   fmt.Printf("Person %+v\n", p) 
} 
</pre><p class="calibre10">golang.fyi/ch04/newptr.go</p><p class="calibre10">Variable <code class="email">intptr</code> is initialized as <code class="email">*int</code> and <code class="email">p</code> as <code class="email">*struct{first, last string}</code>. Once initialized, both values are updated accordingly later in the code. You can use the <code class="email">new()</code> function to initialize pointer variables with zero values when the actual values are not available at the time of initialization.</p></div></div></body></html>