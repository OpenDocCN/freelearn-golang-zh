<html><head></head><body>
<div class="book" title="Chapter&#xA0;5.&#xA0;Functions in Go">
<div class="book" title="Go functions">
<div class="book" title="Variadic parameters"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch05lvl2sec82" class="calibre1"/>Variadic parameters</h2></div></div></div><p class="calibre10">The last parameter of a function can be declared as <span class="strong"><strong class="calibre2">variadic</strong></span> (<span class="strong"><strong class="calibre2">variable length arguments</strong></span>) by affixing ellipses (<code class="email">…</code>) before the parameter's type. This indicates that zero or more values of that type may be passed to the function when it is called.</p><p class="calibre10">The following example implements two functions that accept variadic parameters. The first function calculates the average of the passed values and the second function sums up the numbers passed in as arguments:</p><pre class="programlisting">package main 
import "fmt" 
 
func avg(nums ...float64) float64 { 
   n := len(nums) 
   t := 0.0 
   for _, v := range nums { 
         t += v 
   } 
   return t / float64(n) 
} 
 
func sum(nums ...float64) float64 { 
   var sum float64 
   for _, v := range nums { 
         sum += v 
   } 
   return sum 
} 
 
func main() { 
   fmt.Printf("avg([1, 2.5, 3.75]) =%.2f\n", avg(1, 2.5, 3.75)) 
   points := []float64{9, 4, 3.7, 7.1, 7.9, 9.2, 10} 
   fmt.Printf("sum(%v) = %.2f\n", points, sum(points...)) 
} 
</pre><p class="calibre10">golang.fyi/ch05/funcvariadic.go</p><p class="calibre10">The compiler resolves the variadic parameter as a slice of type <code class="email">[]float64</code> in both the preceding functions. The parameter values can then be accessed using a slice expression as shown in the previous example. To invoke functions with variadic arguments, simply provide a comma-separated list of values that matches the specified type as shown in the following snippet:</p><pre class="programlisting">fmt.Printf("avg([1, 2.5, 3.75]) =%.2f\n", avg(1, 2.5, 3.75)))  
</pre><p class="calibre10">When no parameters are provided, the function receives an empty slice. The astute reader may be wondering, "Is it possible to pass in an existing slice of values as variadic arguments?" Thankfully, Go provides an easy idiom to handle such a case. Let's examine the call to the  <code class="email">sum</code> function in the following code snippet:</p><pre class="programlisting">points := []float64{9, 4, 3.7, 7.1, 7.9, 9.2, 10} 
fmt.Printf("sum(%v) = %f\n", points, sum(points...))  
</pre><p class="calibre10">A slice of floating-point values is declared and stored in variable <code class="email">points</code>. The slice can be passed as a variadic parameter by adding ellipses to the parameter in the <code class="email">sum(points...)</code> function call.</p></div></div></div></body></html>