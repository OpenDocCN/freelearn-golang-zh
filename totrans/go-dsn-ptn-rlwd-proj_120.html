<html><head></head><body>
<div class="book" title="Chapter&#xA0;5.&#xA0;Functions in Go">
<div class="book" title="Go functions">
<div class="book" title="Function result parameters"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch05lvl2sec83" class="calibre1"/>Function result parameters</h2></div></div></div><p class="calibre10">Go functions can be defined to return one or more result values. So far in the book, most of the functions we have encountered have been defined to return a single result value. In general, a function is able to return a list of result values, with diverse types, separated by a comma (see the previous section, <span class="strong"><em class="calibre11">Function declaration</em></span>).</p><p class="calibre10">To illustrate this concept, let us examine the following simple program which defines a function that implements an Euclidian division algorithm (see <a class="calibre1" href="http://en.wikipedia.org/wiki/Division_algorithm">http://en.wikipedia.org/wiki/Division_algorithm</a>). The <code class="email">div </code>function returns both the quotient and the remainder values as its result:</p><pre class="programlisting">package main 
import "fmt" 
 
func div(op0, op1 int) (int, int) { 
   r := op0 
   q := 0 
   for r &gt;= op1 { 
         q++ 
         r = r - op1 
   } 
   return q, r 
} 
 
func main() { 
   q, r := div(71, 5) 
   fmt.Printf("div(71,5) -&gt; q = %d, r = %d\n", q, r) 
} 
</pre><p class="calibre10">golang.fyi/ch05/funcret0.go</p><p class="calibre10">The <code class="email">
<span class="strong"><strong class="calibre2">return</strong></span>
</code> keyword is followed by the number of result values matching (respectively) the declared results in the function's signature. In the previous example, the signature of the <code class="email">div</code> function specifies two <code class="email">int</code> values to be returned as result values. Internally, the function defines <code class="email">int</code> variables <code class="email">p</code> and <code class="email">r</code> that are returned as result values upon completion of the function. Those returned values must match the types defined in the function's signature or risk compilation errors.</p><p class="calibre10">Functions with multiple result values must be invoked in the proper context:</p><div class="book"><ul class="itemizedlist"><li class="listitem">They must be assigned to a list of identifiers of the same types respectively</li><li class="listitem">They can only be included in expressions that expect the same number of returned values</li></ul></div><p class="calibre10">This is illustrated in the following source snippet:</p><pre class="programlisting">q, r := div(71, 5) 
fmt.Printf("div(71,5) -&gt; q = %d, r = %d\n", q, r) 
</pre><div class="book" title="Named result parameters"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch05lvl3sec3" class="calibre1"/>Named result parameters</h3></div></div></div><p class="calibre10">In general, the result list of a function's signature can be specified using variable identifiers along with their types. When using named identifiers, they are passed to the function as regular declared variables and can be accessed and modified as needed. Upon encountering a <code class="email">return</code> statement, the last assigned result values are returned. This is illustrated in the following source snippet, which is a rewrite of the previous program:</p><pre class="programlisting">func div(dvdn, dvsr int) (q, r int) { 
   r = dvdn 
   for r &gt;= dvsr { 
         q++ 
         r = r - dvsr 
   } 
   return 
} 
</pre><p class="calibre10">golang.fyi/ch05/funcret1.go</p><p class="calibre10">Notice the <code class="email">return</code> statement is naked; it omits all identifiers. As stated earlier, the values assigned in <code class="email">q</code> and <code class="email">r</code> will be returned to the caller. For readability, consistency, or style, you may elect not to use a naked <code class="email">return</code> statement. It is perfectly legal to attach the identifier's name with the <code class="email">return</code> statement (such asÂ <code class="email">return q, r</code>) as before.</p></div></div></div></div></body></html>