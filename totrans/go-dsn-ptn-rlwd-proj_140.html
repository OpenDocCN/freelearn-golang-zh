<html><head></head><body>
<div class="book" title="Chapter&#xA0;6.&#xA0;Go Packages and Programs">
<div class="book" title="The Go package">
<div class="book" title="The workspace"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch06lvl2sec95" class="calibre1"/>The workspace</h2></div></div></div><p class="calibre10">Another important concept to understand when discussing packages is that of the <span class="strong"><em class="calibre11">Go </em></span>
<span class="strong"><em class="calibre11">workspace</em></span>. The workspace is simply an arbitrary directory that serves as a namespace used to resolved packages during certain tasks such as compilation. By convention, Go tools expect three specifically named subdirectories in a workspace directory: <code class="email">src</code>, <code class="email">pkg</code>, and <code class="email">bin</code>. These subdirectories store Go source files along with all built package artifacts respectively.</p><p class="calibre10">Establishing a static directory location where Go packages are kept together has the following advantages:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Simple setup with near-zero configuration</li><li class="listitem">Fast compilation by reducing code search to a known location</li><li class="listitem">Tools can easily create source graph of code and package artifacts</li><li class="listitem">Automatic inference and resolution of transitive dependencies from source</li><li class="listitem">Project setup can be made portable and easily distributable</li></ul></div><p class="calibre10">The following is a partial (and simplified) tree layout of my Go workspace on my laptop with the three subdirectories, <code class="email">bin</code>, <code class="email">pkg</code>, and <code class="email">src</code>, highlighted:</p><div class="informaltable"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/></colgroup><tbody class="calibre20"><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">/home/vladimir/Go/   
├── bin   
│  ├── circ   
│  ├── golint   
│  ...   
├── pkg   
│  └── linux_amd64    
│    ├── github.com   
│    │  ├── golang   
│    │  │  └── lint.a   
│    │  └── vladimirvivien   
│    │    └── learning-go   
│    │      └── ch06   
│    │        ├── current.a   
│    ...       ...    
└── src   
  ├── github.com   
  │  ├── golang   
  │  │  └── lint   
  │  │    ├── golint   
  │  │    │  ├── golint.go   
  │  ...   ... ...   
  │  └── vladimirvivien   
  │    └── learning-go   
  │      ├── ch01   
  │      ...   
  │      ├── ch06   
  │      │  ├── current   
  │      │  │  ├── doc.go   
  │      │  │  └── lib.go   
  ...     ...      
</pre>
</td></tr></tbody></table></div><p class="calibre10">Sample workspace directory</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="email">bin</code>: This is an auto-generated directory that stores compiled Go executable artifacts (also known as programs or commands). When Go tools compile and install executable packages, they are placed in this directory. The previous sample workspace shows two binaries listed <code class="email">circ</code> and <code class="email">golint</code>. It is a recommended practice to add this directory to your operating system's <code class="email">PATH</code> environment variable to make your command available locally.</li><li class="listitem"><code class="email">pkg</code>: This directory is also auto-generated to store built package artifacts. When the Go tools build and install non-executable packages, they are stored as object files (with <code class="email">.a</code> suffix) in subdirectories with name patterns based on the targeted operating system and architecture. In the sample workspace, the object files are placed under subdirectory <code class="email">linux_amd64</code>, which indicates that the object files in this directory were compiled for the Linux operating system running on a 64-bit architecture.</li><li class="listitem"><code class="email">src</code>: This is a user-created directory where the Go source code files are stored. Each subdirectory under <code class="email">src</code> is mapped to a package. <span class="strong"><em class="calibre11">src</em></span> is the root directory from which all import paths are resolved. The Go tools search that directory to resolve packages referenced in your code during compilation or other activities that depend on the source path. The sample workspace in the previous figure shows two packages: <code class="email">github.com/golang/lint/golint/</code> and <code class="email">github.com/vladimirvivien/learning-go/ch06/current</code>.</li></ul></div><div class="informaltable" title="Note"><h3 class="title2"><a id="note10" class="calibre1"/>Note</h3><p class="calibre10">You may be wondering about the <code class="email">github.com</code> prefix in the package path shown in the workspace example. It is worth noting there are no naming requirements for the package directories (see the <span class="strong"><em class="calibre11">Naming packages</em></span> section). A package can have any arbitrary name. However, Go recommends certain conventions that help with global namespace resolution and package organization.</p></div></div></div></div></body></html>