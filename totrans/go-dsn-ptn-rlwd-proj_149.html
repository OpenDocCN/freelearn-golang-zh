<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Package visibility" id="1AT9A1-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec41" class="calibre1"/>Package visibility</h1></div></div></div><p class="calibre10">Regardless of the number of source files declared to be part of a package, all source code elements (types, variables, constants, and functions), declared at a package level, share a common scope. Therefore, the compiler will not allow an element identifier to be re-declared more than once in the entire package. Let us use the following code snippets to illustrate this point, assuming both source files are part of the same package <code class="email">$GOPATH/src/foo</code>:</p><div class="informaltable"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre20"><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">package foo   
   
var (   
  bar int = 12   
)   
   
func qux () {   
  bar += bar   
}   
</pre><p class="calibre23">
</p><p class="calibre23">foo/file1.go</p>
</td><td class="calibre22">
<pre class="programlisting1">package foo   
   
var bar struct{   
  x, y int   
}   
   
func quux() {   
  bar = bar * bar   
}   
</pre><p class="calibre23">
</p><p class="calibre23">foo/file2.go</p>
</td></tr></tbody></table></div><p class="calibre10">Illegal variable identifier re-declaration</p><p class="calibre10">Although they are in two separate files, the declaration of variables with identifier <code class="email">bar</code> is illegal in Go. Since the files are part of the same package, both identifiers have the same scope and therefore clash.</p><p class="calibre10">The same is true for function identifiers. Go does not support the overloading of function names within the same scope. Therefore, it is illegal to have a function identifier used more than once, regardless of the function's signature. If we assume the following code appears in two different source files within the same package, the following snippet would be illegal:</p><div class="informaltable"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre20"><tr class="calibre21"><td class="calibre22">
<pre class="programlisting1">package foo   
   
var (   
  bar int = 12   
)   
   
func qux () {   
  bar += bar   
}   
</pre><p class="calibre23">
</p><p class="calibre23">foo/file1.go</p>
</td><td class="calibre22">
<pre class="programlisting1">package foo   
   
var (   
  fooVal int = 12   
)   
   
func qux (inc int) int {   
  return fooVal += inc   
}   
</pre><p class="calibre23">
</p><p class="calibre23">foo/file1.go</p>
</td></tr></tbody></table></div><p class="calibre10">Illegal function identifier re-declaration</p><p class="calibre10">In the previous code snippets, function name identifier <code class="email">qux</code> is used twice. The compiler will fail the compilation even though both functions have different signatures. The only way to fix this is to change the name.</p></div></body></html>