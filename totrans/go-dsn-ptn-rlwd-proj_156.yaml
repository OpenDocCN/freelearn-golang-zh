- en: Creating programs
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建程序
- en: 'So far in the book, you have learned how to create and bundle Go code as reusable
    packages. A package, however, cannot be executed as a standalone program. To create
    a program (also known as a command), you take a package and define an entry point
    of execution as follows:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，在本书中，你已经学习了如何创建和打包Go代码作为可重用的包。然而，一个包不能作为一个独立的程序执行。要创建一个程序（也称为命令），你需要取一个包并定义一个执行入口点，如下所示：
- en: Declare (at least one) source file to be part of a special package called `main`
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 声明（至少一个）源文件作为名为`main`的特殊包的一部分
- en: Declare one function name `main()` to be used as the entry point of the program
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 声明一个名为`main()`的函数，用作程序的入口点
- en: 'The function `main` takes no argument nor returns any value. The following
    shows the abbreviated source code for the `main` package used in the Ohm''s Law
    example (from earlier). It uses the package `flag`, from Go''s standard library,
    to parse program arguments formatted as `flag`:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '`main`函数不接受任何参数也不返回任何值。以下显示了用于欧姆定律示例（之前）的`main`包的缩略源代码。它使用了Go标准库中的`flag`包来解析格式为`flag`的程序参数：'
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: golang.fyi/ch06/main.go
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: golang.fyi/ch06/main.go
- en: The previous listing shows the source code of the `main` package and the implementation
    of the function `main` which gets executed when the program runs. The Ohm's Law
    program accepts command-line arguments that specify which electrical operation
    to execute (see the following *Accessing program arguments* section). The function
    `init` is used to initialize parsing of the program flag values. The function
    main is set up as a big switch statement block to select the proper operation
    to execute based on the selected flags.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的列表显示了`main`包的源代码以及当程序运行时执行的`main`函数的实现。欧姆定律程序接受命令行参数，用于指定要执行哪种电气操作（请参阅以下*访问程序参数*部分）。`init`函数用于初始化对程序标志值的解析。`main`函数被设置为一个大的switch语句块，根据选定的标志选择要执行的正确操作。
