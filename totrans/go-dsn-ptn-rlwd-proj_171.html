<html><head></head><body>
<div class="book" title="The slice type">
<div class="book" title="Slice representation"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch07lvl2sec115" class="calibre1"/>Slice representation</h2></div></div></div><p class="calibre10">Earlier it was mentioned that the slice value uses an underlying array to store data. The name <span class="strong"><em class="calibre11">slice</em></span>, in fact, is a reference to a slice of data segment from the array. Internally, a slice is represented by a composite value with the followings three attributes:</p><div class="informaltable"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre20"><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Attribute</strong></span></p>
</td><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Description</strong></span></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">a <span><em class="calibre25">pointer</em></span></p>
</td><td class="calibre22">
<p class="calibre23">The pointer is the address of the first element of the slice stored in an underlying array. When the slice value is uninitialized, its pointer value is nil, indicating that it is not pointing to an array yet.</p><p class="calibre23">
</p><p class="calibre23">Go uses the pointer as the zero value of the slice itself. An uninitialized slice will return nil as its zero value. However, the slice value is not treated as a reference value by the type system. This means certain functions can be applied to a nil slice while others will cause a panic.</p><p class="calibre23">
</p><p class="calibre23">Once a slice is created, the pointer does not change. To point to a different starting point, a new slice must be created.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">a <span><em class="calibre25">length</em></span></p>
</td><td class="calibre22">
<p class="calibre23">The length indicates the number of contiguous elements that can be accessed starting with the first element. It is a dynamic value that can grow up to the capacity of the slice (see capacity next).</p><p class="calibre23">
</p><p class="calibre23">The length of a slice is always less than or equal to its capacity. Attempts to access elements beyond the length of a slice, without resizing, will result in a panic. This is true even when the capacity is larger than the length.</p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23">a <span><em class="calibre25">capacity</em></span></p>
</td><td class="calibre22">
<p class="calibre23">The capacity of a slice is the maximum number of elements that may be stored in the slice, starting from its first element. The capacity of a slice is bounded by the length of the underlying array.</p>
</td></tr></tbody></table></div><p class="calibre10">So, when the following variable <code class="email">halfyr</code> is initialized as shown:</p><pre class="programlisting">halfyr := []string{"Jan","Feb","Mar","Apr","May","Jun"}</pre><p class="calibre10">It will be stored in an array of type <code class="email">[6]string</code> with a pointer to the first element, a length, and a capacity of <code class="email">6</code>, as represented graphically in the following figure:</p><div class="mediaobject"><img src="../images/00016.jpeg" alt="Slice representation" class="calibre14"/></div><p class="calibre15"> </p></div></div></body></html>