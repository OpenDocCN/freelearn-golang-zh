<html><head></head><body>
<div class="book" title="The map type">
<div class="book" title="Map traversal"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch07lvl2sec130" class="calibre1"/>Map traversal</h2></div></div></div><p class="calibre10">The <code class="email">for…range</code> loop statement can be used to walk the content of a map value. The <code class="email">range</code> expression emits values for both key and element values with each iteration. The following code snippet shows the traversal of map <code class="email">hist</code>:</p><pre class="programlisting">for key, val := range hist { 
   adjVal := int(float64(val) * 0.100) 
   fmt.Printf("%s (%d):", key, val) 
   for i := 0; i &lt; adjVal; i++ { 
         fmt.Print(".") 
   } 
   fmt.Println() 
} 
</pre><p class="calibre10">golang.fyi/ch07/map_use.go</p><p class="calibre10">Each iteration returns a key and its associated element value. Iteration order, however, is not guaranteed. The internal map iterator may traverse the map in a different order with each run of the program. In order to maintain a predictable traversal order, keep (or generate) a copy of the keys in a separate structure, such as a slice for instance. During traversal, range over the slice of keys to traverse in a predictable manner.</p><div class="informaltable" title="Note"><h3 class="title2"><a id="note17" class="calibre1"/>Note</h3><p class="calibre10">You should be aware that update done to the emitted value during the iteration will be lost. Instead, use an index expression, such as <code class="email">hist[key]</code> to update an element during iteration. For details on <code class="email">for…range</code> loop, refer to <a class="calibre1" title="Chapter 3. Go Control Flow" href="part0022_split_000.html#KVCC1-9c484ed022e64a0fb0e1aebf8e05d4fd">Chapter 3</a>, <span class="strong"><em class="calibre11">Go Control Flow</em></span>, for a thorough explanation of Go <code class="email">for</code> loops.</p></div></div></div></body></html>