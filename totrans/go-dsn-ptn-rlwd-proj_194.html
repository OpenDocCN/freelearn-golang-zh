<html><head></head><body>
<div class="book" title="The struct type">
<div class="book" title="Structs as parameters"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch07lvl2sec136" class="calibre1"/>Structs as parameters</h2></div></div></div><p class="calibre10">Recall that struct variables store actual values. This implies that a new copy of a struct value is created whenever a <code class="email">struct</code> variable is reassigned or passed in as a function parameter. For instance, the following will not update the value of name after the call to <code class="email">updateName()</code>:</p><pre class="programlisting">type person struct { 
   name    string 
   title string       
} 
func updateName(p person, name string) { 
   p.name = name 
}  
 
func main() { 
   p := person{} 
   p.name = "uknown" 
   ... 
   updateName(p, "Vladimir Vivien") 
} 
</pre><p class="calibre10">golang.fyi/ch07/struct_ptr.go</p><p class="calibre10">This can be remedied by passing a pointer to the <code class="email">struct</code> value of the person type, as shown in the following snippet:</p><pre class="programlisting">type person struct { 
   name    string 
   title string 
} 
 
func updateName(p *person, name string) { 
   p.name = name 
} 
 
func main() { 
   p := new(person) 
   p.name = "uknown" 
   ... 
   updateName(p, "Vladimir Vivien") 
} 
</pre><p class="calibre10">golang.fyi/ch07/struct_ptr2.go</p><p class="calibre10">In this version, the <code class="email">p</code> variable is declared as <code class="email">*person</code> and is initialized using the built-in <code class="email">new()</code> function. After <code class="email">updateName()</code> returns, its changes are seen by the calling function.</p></div></div></body></html>