<html><head></head><body>
<div class="book" title="The interface type">
<div class="book" title="Subtyping with Go interfaces"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch08lvl2sec144" class="calibre1"/>Subtyping with Go interfaces</h2></div></div></div><p class="calibre10">Earlier, during the discussion on objects, it was mentioned that Go favors composition (<span class="strong"><em class="calibre11">has-a</em></span>) relationships when building objects. While that is true, Go can also express "is-a" relationships among objects using subtyping via interfaces. In our previous example, it can be argued that the <code class="email">rect</code> type (and any other type that implements the methods <code class="email">area </code>and <code class="email">perim</code>) can be treated as a subtype of <code class="email">shape</code>, as shown in the following figure:</p><div class="mediaobject"><img src="../images/00020.jpeg" alt="Subtyping with Go interfaces" class="calibre14"/></div><p class="calibre15"> </p><p class="calibre10">As you may expect, any subtype of <code class="email">shape</code> can participate in expressions or be passed as functions (or methods) parameters where the <code class="email">shape</code> type is expected. This is shown in the following code snippet where both types, <code class="email">rect</code> (defined previously) and <code class="email">triangle</code>, are able to be passed to the <code class="email">shapeInfo(shape)</code> function to return a <code class="email">string</code> value containing shape calculations:</p><pre class="programlisting">type triangle struct { 
   name string 
   a, b, c float64 
} 
 
func (t *triangle) area() float64 { 
   return 0.5*(t.a * t.b) 
} 
 
func (t *triangle) perim() float64 { 
   return t.a + t.b + math.Sqrt((t.a*t.a) + (t.b*t.b)) 
} 
 
func (t *triangle) String() string { 
   return fmt.Sprintf( 
         "%s[sides: a=%.2f b=%.2f c=%.2f]", 
         t.name, t.a, t.b, t.c, 
   ) 
} 
func shapeInfo(s shape) string { 
   return fmt.Sprintf( 
         "Area = %.2f, Perim = %.2f", 
         s.area(), s.perim(), 
   ) 
} 
 
func main() { 
   r := &amp;      rect{"Square", 4.0, 4.0} 
   fmt.Println(r, "=&gt;", shapeInfo(r)) 
 
   t := &amp;      triangle{"Right Triangle", 1,2,3} 
   fmt.Println(t, "=&gt;", shapeInfo(t)) 
} 
</pre><p class="calibre10">golang.fyi/ch08/interface_impl.go</p></div></div></body></html>