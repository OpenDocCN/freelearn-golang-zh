["```go\ntype Service struct { \n   started bool \n   stpCh   chan struct{} \n   mutex   sync.RWMutex \n   cache   map[int]string \n} \n\nfunc (s *Service) Start() { \n   ... \n   go func() { \n         s.mutex.Lock() \n         s.started = true \n         s.cache[1] = \"Hello World\" \n         ... \n         s.mutex.Unlock() \n         <-s.stpCh // wait to be closed. \n   }() \n} \n... \nfunc (s *Service) Serve(id int) { \n   s.mutex.RLock() \n   msg := s.cache[id] \n   s.mutex.RUnlock() \n   if msg != \"\" { \n         fmt.Println(msg) \n   } else { \n         fmt.Println(\"Hello, goodbye!\") \n   } \n} \n\n```"]