<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="The io.Reader interface" id="21PMQ1-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch10lvl1sec65" class="calibre1"/>The io.Reader interface</h1></div></div></div><p class="calibre10">The <code class="email">io.Reader</code> interface, as shown in the following listing, is simple. It consists of a single method, <code class="email">Read([]byte)(int, error)</code>, intended to let programmers implement code that <span class="strong"><em class="calibre11">reads</em></span>Â data, from an arbitrary source, and transfers it into the provided slice of bytes.</p><pre class="programlisting">type Reader interface { 
        Read(p []byte) (n int, err error) 
} 
</pre><p class="calibre10">The <code class="email">Read</code> method returns the total number of bytes transferred into the provided slice and an error value (if necessary). As a guideline, implementations of the <code class="email">io.Reader</code> should return an error value of <code class="email">io.EOF</code> when the reader has no more data to transfer into stream <code class="email">p</code>. The following shows the type <code class="email">alphaReader</code>, a trivial implementation of the <code class="email">io.Reader</code> that filters out non-alpha characters from its string source:</p><pre class="programlisting">type alphaReader string 
 
func (a alphaReader) Read(p []byte) (int, error) { 
   count := 0 
   for i := 0; i &lt; len(a); i++ { 
         if (a[i] &gt;= 'A' &amp;&amp; a[i] &lt;= 'Z') || 
               (a[i] &gt;= 'a' &amp;&amp; a[i] &lt;= 'z') { 
               p[i] = a[i] 
         } 
         count++ 
   } 
   return count, io.EOF 
} 
 
func main() { 
   str := alphaReader("Hello! Where is the sun?") 
   io.Copy(os.Stdout, &amp;str) 
   fmt.Println() 
} 
</pre><p class="calibre10">golang.fyi/ch10/reader0.go</p><p class="calibre10">Since values of the <code class="email">alphaReader</code> type implement the <code class="email">io.Reader</code> interface, they can participate anywhere a reader is expected as shown in the call to <code class="email">io.Copy(os.Stdout, &amp;str)</code>. This copies the stream of bytes emitted by the <code class="email">alphaReader</code> variable into a writer interface, <code class="email">os.Stdout</code> (covered later).</p></div></body></html>