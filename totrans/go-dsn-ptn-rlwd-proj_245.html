<html><head></head><body>
<div class="book" title="Working with files" id="24L8G1-9c484ed022e64a0fb0e1aebf8e05d4fd">
<div class="book" title="Creating and opening files"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch10lvl2sec166" class="calibre1"/>Creating and opening files</h2></div></div></div><p class="calibre10">The <code class="email">os.Create</code> function creates a new file with the specified path. If the file already exists, <code class="email">os.Create</code> will overwrite it. The <code class="email">os.Open</code> function, on the other hand, opens an existing file for reading.</p><p class="calibre10">The following source snippet opens an existing file and creates a copy of its content using the <code class="email">io.Copy</code> function. One common, and recommended practice to notice is the deferred call to the method <code class="email">Close</code> on the file. This ensures a graceful release of OS resources when the function exits:</p><pre class="programlisting">func main() { 
   f1, err := os.Open("./file0.go") 
   if err != nil { 
         fmt.Println("Unable to open file:", err) 
         os.Exit(1) 
   } 
   defer f1.Close() 
 
   f2, err := os.Create("./file0.bkp") 
   if err != nil { 
         fmt.Println("Unable to create file:", err) 
         os.Exit(1) 
   } 
   defer f2.Close() 
 
   n, err := io.Copy(f2, f1) 
   if err != nil { 
         fmt.Println("Failed to copy:", err) 
         os.Exit(1) 
   } 
 
   fmt.Printf("Copied %d bytes from %s to %s\n",  
       n, f1.Name(), f2.Name()) 
} 
</pre><p class="calibre10">golang.fyi/ch10/file0.go</p></div></div></body></html>