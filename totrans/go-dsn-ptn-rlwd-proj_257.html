<html><head></head><body><div class="book" title="In-memory IO" id="27GQ61-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch10lvl1sec71" class="calibre1"/>In-memory IO</h1></div></div></div><p class="calibre10">The <code class="email">bytes</code>Â package offers common primitives to achieve streaming IO on blocks of bytes, stored in memory, represented by the <code class="email">bytes.Buffer</code> type. Since the <code class="email">bytes.Buffer</code> type implements both <code class="email">io.Reader</code> and <code class="email">io.Writer</code> interfaces it is a great option to stream data into or out of memory using streaming IO primitives.</p><p class="calibre10">The following snippet stores several string values in the <code class="email">byte.Buffer</code> variable, <code class="email">book</code>. Then the buffer is streamed to <code class="email">os.Stdout</code>:</p><pre class="programlisting">func main() { 
   var books bytes.Buffer 
   books.WriteString("The Great Gatsby") 
   books.WriteString("1984") 
   books.WriteString("A Tale of Two Cities") 
   books.WriteString("Les Miserables") 
   books.WriteString("The Call of the Wild") 
 
   books.WriteTo(os.Stdout) 
} 
</pre><p class="calibre10">golang.fyi/ch10/bytesbuf0.go</p><p class="calibre10">The same example can easily be updated to stream the content to a regular file as shown in the following abbreviate code snippet:</p><pre class="programlisting">func main() { 
   var books bytes.Buffer 
   books.WriteString("The Great Gatsby\n") 
   books.WriteString("1984\n") 
   books.WriteString("A Take of Two Cities\n") 
   books.WriteString("Les Miserables\n") 
   books.WriteString("The Call of the Wild\n") 
 
   file, err := os.Create("./books.txt") 
   if err != nil { 
         fmt.Println("Unable to create file:", err) 
         return 
   } 
   defer file.Close() 
   books.WriteTo(file) 
} 
</pre><p class="calibre10">golang.fyi/ch10/bytesbuf1.go</p></div></body></html>