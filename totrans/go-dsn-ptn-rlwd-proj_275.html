<html><head></head><body>
<div class="book" title="The HTTP package">
<div class="book" title="The http.Client type"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch11lvl2sec186" class="calibre1"/>The http.Client type</h2></div></div></div><p class="calibre10">The <code class="email">http.Client</code> struct represents an HTTP client and is used to create HTTP requests and retrieve responses from a server. The following illustrates how to retrieve the text content of Beowulf from Project Gutenberg's website located at <a class="calibre1" href="http://gutenberg.org/cache/epub/16328/pg16328.txt">http://gutenberg.org/cache/epub/16328/pg16328.txt</a>, using the <code class="email">client</code> variable of the <code class="email">http.Client</code> type and prints its content to a standard output:</p><pre class="programlisting">func main() { 
   client := http.Client{} 
   resp, err := client.Get( 
         " http://gutenberg.org/cache/epub/16328/pg16328.txt") 
   if err != nil { 
         fmt.Println(err) 
         return 
   } 
   defer resp.Body.Close() 
   io.Copy(os.Stdout, resp.Body) 
} 
</pre><p class="calibre10">golang.fyi/ch11/httpclient1.go</p><p class="calibre10">The previous example uses the <code class="email">client.Get</code> method to retrieve content from the remote server using the HTTP protocol method <code class="email">GET</code> internally. The <code class="email">GET</code> method is part of several convenience methods offered, by the Client type, to interact with HTTP servers as summarized in the following table. Notice that all of these methods return a value of the <code class="email">*http.Response</code> type (discussed later) to handle responses returned by the HTTP server.</p><div class="informaltable"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre20"><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Method</strong></span></p>
</td><td class="calibre22">
<p class="calibre23"><span><strong class="calibre24">Description</strong></span></p>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><code class="literal">Client.Get</code></p>
</td><td class="calibre22">
<p class="calibre23">As discussed earlier, <code class="literal">Get</code> is a convenience method that issues an HTTP <code class="literal">GET</code> method to retrieve the resource specified by the <code class="literal">url</code> parameter from the server:
</p><pre class="programlisting1">Get(url string,   
) (resp *http.Response, err   error)     
</pre>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><code class="literal">Client.Post</code></p>
</td><td class="calibre22">
<p class="calibre23">The <code class="literal">Post</code> method is a convenience method that issues an HTTP <code class="literal">POST</code> method to send the content specified by the <code class="literal">body</code> parameter to the server specified by the <code class="literal">url</code> parameter:
</p><pre class="programlisting1">Post(   
  url string,    
  bodyType string,    
  body io.Reader,   
) (resp *http.Response, err error)   
</pre>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><code class="literal">Client.PostForm</code></p>
</td><td class="calibre22">
<p class="calibre23">The <code class="literal">PostForm</code> method is a convenience method that uses the HTTP <code class="literal">POST</code> method to send form <code class="literal">data</code>, specified as mapped key/value pairs, to the server:
</p><pre class="programlisting1">PostForm(   
  url string,    
  data url.Values,   
) (resp *http.Response, err error)   
</pre>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><code class="literal">Client.Head</code></p>
</td><td class="calibre22">
<p class="calibre23">The <code class="literal">Head</code> method is a convenience method that issues an HTTP method, <code class="literal">HEAD</code>, to the remote server specified by the <code class="literal">url </code>parameter:
</p><pre class="programlisting1">Head(url string,   
)(resp *http.Response, err error)   
</pre>
</td></tr><tr class="calibre21"><td class="calibre22">
<p class="calibre23"><code class="literal">Client.Do</code></p>
</td><td class="calibre22">
<p class="calibre23">This method generalizes the request and response interaction with a remote HTTP server. It is wrapped internally by the methods listed in this table. Section <span><em class="calibre25">Handling client requests and responses</em></span> discusses how to use this method to talk to the server.</p>
</td></tr></tbody></table></div><p class="calibre10">It should be noted that the HTTP package uses an internal <code class="email">http.Client</code> variable designed to mirror the preceding methods as package functions for further convenience. They include <code class="email">http.Get</code>, <code class="email">
<span class="strong"><em class="calibre11">http.Post</em></span>
</code>, <code class="email">http.PostForm</code>, and <code class="email">http.Head</code>. The following snippet shows the previous example using <code class="email">http.Get</code> instead of the method from the <code class="email">http.Client</code>:</p><pre class="programlisting">func main() { 
   resp, err := http.Get( 
       "http://gutenberg.org/cache/epub/16328/pg16328.txt") 
   if err != nil { 
         fmt.Println(err) 
         return 
   } 
   defer resp.Body.Close() 
   io.Copy(os.Stdout, resp.Body) 
} 
</pre><p class="calibre10">golang.fyi/ch11/httpclient1a.go</p></div></div></body></html>