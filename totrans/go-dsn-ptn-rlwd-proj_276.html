<html><head></head><body>
<div class="book" title="The HTTP package">
<div class="book" title="Configuring the client"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch11lvl2sec187" class="calibre1"/>Configuring the client</h2></div></div></div><p class="calibre10">Besides the methods to communicate with the remote server, the <code class="email">http.Client</code> type exposes additional attributes that can be used to modify and control the behavior of the client. For instance, the following source snippet sets the timeout to handle a client request to complete within 21 seconds using the <code class="email">Timeout</code> attribute of the <code class="email">Client</code> type:</p><pre class="programlisting">func main() { 
   client := &amp;http.Client{ 
         Timeout: 21 * time.Second 
   } 
   resp, err := client.Get( 
         "http://tools.ietf.org/rfc/rfc7540.txt") 
   if err != nil { 
         fmt.Println(err) 
         return 
   } 
   defer resp.Body.Close() 
   io.Copy(os.Stdout, resp.Body) 
} 
</pre><p class="calibre10">golang.fyi/ch11/httpclient2.go</p><p class="calibre10">The <code class="email">Transport</code> field of the <code class="email">Client</code> type provides further means of controlling the settings of a client. For instance, the following snippet creates a client that disables the connection reuse between successive HTTP requests with the <code class="email">DisableKeepAlive </code>field. The code also uses the <code class="email">Dial</code> function to specify further granular control over the HTTP connection used by the underlying client, setting its timeout value to 30 seconds:</p><pre class="programlisting">func main() { 
   client := &amp;http.Client{ 
         Transport: &amp;http.Transport{ 
               DisableKeepAlives: true, 
               Dial: (&amp;net.Dialer{ 
                  Timeout:   30 * time.Second, 
               }).Dial, 
         }, 
   } 
... 
} 
</pre></div></div></body></html>