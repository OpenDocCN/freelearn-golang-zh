- en: Routing requests with http.ServeMux
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 http.ServeMux 路由请求
- en: '[PRE0]'
  id: totrans-1
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: golang.fyi/ch11/httpserv3.go
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: golang.fyi/ch11/httpserv3.go
- en: The code declares two functions assigned to variables `hello` and `goodbye`.
    Each function is mapped to a path `"/hello"` and `"/goodbye"` respectively using
    the `mux.HandleFunc("/hello", hello)` and `mux.HandleFunc("/goodbye", goodbye)`
    method calls. When the server is launched, with `http.ListenAndServe(":4040",
    mux)`, its handler will route the request `"http://localhost:4040/hello"` to the
    `hello` function and requests with the path `"http://localhost:4040/goodbye"`
    to the `goodbye` function.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 代码声明了两个函数，分别赋值给变量 `hello` 和 `goodbye`。每个函数分别使用 `mux.HandleFunc("/hello", hello)`
    和 `mux.HandleFunc("/goodbye", goodbye)` 方法调用映射到路径 `"/hello"` 和 `"/goodbye"`。当服务器启动时，使用
    `http.ListenAndServe(":4040", mux)`，其处理程序将请求 `"http://localhost:4040/hello"` 路由到
    `hello` 函数，并将路径为 `"http://localhost:4040/goodbye"` 的请求路由到 `goodbye` 函数。
- en: The default ServeMux
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 默认 ServeMux
- en: 'It is worth pointing out that the HTTP package makes available a default ServeMux
    internally. When used, it is not necessary to explicitly declare a ServeMux variable.
    Instead the code uses the package function, `http.HandleFunc,` to map a path to
    a handler function as illustrated in the following code snippet:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 值得指出的是，HTTP 包在内部提供了默认的 ServeMux。当使用时，不需要显式声明 ServeMux 变量。相反，代码使用包函数 `http.HandleFunc`
    将路径映射到处理函数，如下面的代码片段所示：
- en: '[PRE2]'
  id: totrans-7
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: golang.fyi/ch11/httpserv4.go
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: golang.fyi/ch11/httpserv4.go
- en: To launch the server, the code calls `http.ListenAndServe(":4040", nil)` where
    the ServerMux parameter is set to `nil`. This implies that the server will default
    to the per-declared package instance of http.ServeMux to handle incoming requests.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 要启动服务器，代码调用 `http.ListenAndServe(":4040", nil)`，其中 ServerMux 参数设置为 `nil`。这意味着服务器将默认使用每个声明包实例的
    http.ServeMux 来处理传入的请求。
