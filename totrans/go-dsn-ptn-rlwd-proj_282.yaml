- en: An API server client in Go
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Go语言中的API服务器客户端
- en: '[PRE0]'
  id: totrans-1
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: golang.fyi/ch11/jsonclient0.go
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: golang.fyi/ch11/jsonclient0.go
- en: 'In the previous code, an HTTP client is created to send JSON-encoded request
    values as `currRequest := &curr1.CurrencyRequest{Get: param}` where `param` is
    the currency string to retrieve. The response from the server is a payload that
    represents an array of JSON-encoded objects (see the JSON array in the section,
    *Testing the API Server with cURL*). The code then uses a JSON decoder, `json.NewDecoder(resp.Body).Decode(&currencies)`,
    to decode the payload from the response body into the slice, `[]curr1.Currency`.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '在前面的代码中，创建了一个HTTP客户端来发送JSON编码的请求值，`currRequest := &curr1.CurrencyRequest{Get:
    param}`，其中`param`是要检索的货币字符串。服务器的响应是一个表示JSON编码对象数组的有效载荷（参见章节，*使用cURL测试API服务器*中的JSON数组）。然后代码使用JSON解码器，`json.NewDecoder(resp.Body).Decode(&currencies)`，将响应体中的有效载荷解码到切片`[]curr1.Currency`中。'
