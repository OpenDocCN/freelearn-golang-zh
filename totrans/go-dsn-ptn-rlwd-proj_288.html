<html><head></head><body>
<div class="book" title="Chapter&#xA0;12.&#xA0;Code Testing" id="2F4UM1-9c484ed022e64a0fb0e1aebf8e05d4fd">
<div class="book" title="The Go test tool">
<div class="book" title="Test organization"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch12lvl2sec195" class="calibre1"/>Test organization</h2></div></div></div><p class="calibre10">Traditionally, test files are kept in the same package (directory) as the code being tested. This is because there is no need to separate tests files, as they are excluded from the compiled program binary. The following shows the directory layout for a typical Go package, in this instance the <code class="email">fmt</code> package from the standard library. It shows all of the test files for the package in the same directory as the regular source code:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">$&gt;tree go/src/fmt/</strong></span>
<span class="strong"><strong class="calibre2">├── doc.go</strong></span>
<span class="strong"><strong class="calibre2">├── export_test.go</strong></span>
<span class="strong"><strong class="calibre2">├── fmt_test.go</strong></span>
<span class="strong"><strong class="calibre2">├── format.go</strong></span>
<span class="strong"><strong class="calibre2">├── norace_test.go</strong></span>
<span class="strong"><strong class="calibre2">├── print.go</strong></span>
<span class="strong"><strong class="calibre2">├── race_test.go</strong></span>
<span class="strong"><strong class="calibre2">├── scan.go</strong></span>
<span class="strong"><strong class="calibre2">├── scan_test.go</strong></span>
<span class="strong"><strong class="calibre2">└── stringer_test.go</strong></span>
</pre><p class="calibre10">Besides having a simpler project structure, keeping the files together gives test functions full visibility of the package being tested. This facilitates access to and verification of package elements that would otherwise be opaque to testing code. When your functions are placed in a separate package from the code to be tested, they lose access to non-exported elements of the code.</p></div></div></div></body></html>