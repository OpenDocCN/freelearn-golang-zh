<html><head></head><body>
<div class="book" title="Writing Go tests">
<div class="book" title="Test logging"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch12lvl2sec198" class="calibre1"/>Test logging</h2></div></div></div><p class="calibre10">When writing new or debugging existing test functions, it is often helpful to print information to a standard output. Type <code class="email">testing.T</code> offers two logging methods: <code class="email">Log</code>, which uses a default formatter, and <code class="email">Logf</code>, which formats its output using formatting verbs (as defined in package to <code class="email">fmt</code>). For instance, the following test function snippet from the vector example shows the code logging information with <code class="email">t.Logf("Vector = %v; Unit vector = %v\n", v, expect)</code>:</p><pre class="programlisting">func TestVectorUnit(t *testing.T) { 
   v := New(5.581, -2.136) 
   mag := v.Mag() 
   expect := New((1/mag)*v[0], (1/mag)*v[1]) 
   if !v.Unit().Eq(expect) { 
       t.Logf("Vector Unit failed, expecting %s, got %s",  
           expect, v.Unit()) 
       t.Fail() 
   } 
   t.Logf("Vector = %v; Unit vector = %v\n", v, expect) 
}  
</pre><p class="calibre10">golang.fyi/ch12/vector/vec_test.go</p><p class="calibre10">As seen previously, the Go test tool runs tests with minimal output unless there is a test failure. However, the tool will output test logs when the verbose flag <code class="email">
<span class="strong"><em class="calibre11">-v</em></span>
</code> is provided. For instance, running the following in package vector will mute all logging statements:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">&gt; go test -run=VectorUnit</strong></span>
<span class="strong"><strong class="calibre2">PASS</strong></span>
<span class="strong"><strong class="calibre2">ok    github.com/vladimirvivien/learning-go/ch12/vector     0.005s</strong></span>
</pre><p class="calibre10">When the verbose flag <code class="email">-v</code> is provided, as shown in the following command, the test runtime prints the output of the logs as shown:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">$&gt; go test -run=VectorUnit -v</strong></span>
<span class="strong"><strong class="calibre2">=== RUN   TestVectorUnit</strong></span>
<span class="strong"><strong class="calibre2">--- PASS: TestVectorUnit (0.00s)</strong></span>
<span class="strong"><strong class="calibre2">vec_test.go:100: Vector = [5.581,-2.136]; Unit vector =
[0.9339352140866403,-0.35744232526233]</strong></span>
<span class="strong"><strong class="calibre2">PASS</strong></span>
<span class="strong"><strong class="calibre2">ok    github.com/vladimirvivien/learning-go/ch12/vector     0.001s</strong></span>
</pre></div></div></body></html>