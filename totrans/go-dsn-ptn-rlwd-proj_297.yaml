- en: Testing HTTP server code
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The code uses `reg, err := http.NewRequest("POST", "http://0.0.0.0/", strings.NewReader(reqBody))`
    to create a new `*http.Request` value with a `"POST"` method, a fake URL, and
    a request body, variable `reqBody`, encoded as a JSON array. Later in the code,
    `w := httptest.NewRecorder()` is used to create an `httputil.ResponseRecorder`
    value, which is used to invoke the `add(w, req)` function along with the created
    request. The value recorded in `w`, during the execution of function `add`, is
    compared with expected value stored in `atual` with `if actual.String() != strings.TrimSpace(w.Body.String()){...}.`
  prefs: []
  type: TYPE_NORMAL
