<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Test coverage" id="2I0GC1-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch12lvl1sec82" class="calibre1"/>Test coverage</h1></div></div></div><p class="calibre10">When writing tests, it is often important to know how much of the actual code is getting exercised (or covered) by the tests. That number is an indication of the penetration of the test logic against the source code. Whether you agree or not, in many software development practices, test coverage is a critical metric as it is a measure of how well the code is tested.</p><p class="calibre10">Fortunately, the Go test tool comes with a built-in coverage tool. Running the Go test command with the <code class="email">-cover</code> flag instruments the original source code with coverage logic. It then runs the generated test binary, providing a summary of the overall coverage profile of the package, as shown in the following:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">$&gt; go test -cover</strong></span>
<span class="strong"><strong class="calibre2">PASS</strong></span>
<span class="strong"><strong class="calibre2">coverage: 87.8% of statements</strong></span>
<span class="strong"><strong class="calibre2">ok    github.com/vladimirvivien/learning-go/ch12/vector     0.028s</strong></span>
</pre><p class="calibre10">The result shows a well-tested code with a coverage number of <code class="email">87.8%</code>. We can use the test tool to extract more details about the section of the code that is tested. To do this, we use the <code class="email">-coverprofile</code> flag to record coverage metrics to a file, as shown:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">$&gt; go test -coverprofile=cover.out</strong></span>
</pre></div></body></html>