<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Managing JSON data" id="361C61-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec024" class="calibre1"/>Managing JSON data</h1></div></div></div><p class="calibre10">JSON is the acronym for <span class="strong"><strong class="calibre2">JavaScript Object Notation</strong></span> and, like the name implies, it's natively JavaScript. It has become very popular and it's the most used format for communication today. Go has very good support for JSON serialization/deserialization with the <code class="email">JSON</code> package that does most of the dirty work for you. First of all, there are two concepts to learn when working with JSON:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre2">Marshal</strong></span>: When you marshal an instance of a structure or object, you are converting it to its JSON counterpart.</li><li class="listitem"><span class="strong"><strong class="calibre2">Unmarshal</strong></span>: When you are unmarshaling some data, in the form of an array of bytes, you are trying to convert some JSON-expected-data to a known struct or object. You can also <span class="strong"><em class="calibre11">unmarshal</em></span> to a <code class="email">map[string]interface{}</code> in a fast but not very safe way to interpret the data as we'll see now.</li></ul></div><p class="calibre10">Let's see an example of marshaling a string:</p><pre class="programlisting">import ( 
"encoding/json" 
"fmt" 
) 
 
func main(){ 
    packt := "packt" 
    jsonPackt, ok := json.Marshal(packt) 
    if !ok { 
        panic("Could not marshal object")  
    }  
    fmt.Println(string(jsonPackt)) 
} 
<span class="strong"><strong class="calibre2">$ "pack"</strong></span>
</pre><p class="calibre10">First, we have defined a variable called <code class="email">packt</code> to hold the contents of the <code class="email">packt</code> string. Then, we have used the <code class="email">json</code> library to use the <code class="email">Marshal</code> command with our new variable. This will return a new <code class="email">bytearray</code> with the JSON and a flag to provide and <code class="email">boolOK</code> result for the operation. When we print the contents of the bytes array (previous casting to string) the expected value appears. Note that <code class="email">packt</code> appeared actually between quotes as the JSON representation would be.</p></div></body></html>