- en: Implementation
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实现
- en: 'The implementation of every factory is already done for the sake of brevity.
    They are very similar to the Factory method with the only difference being that
    in the Factory method, we don''t use an instance of the Factory method because
    we use the package functions directly. The implementation of the `vehicle` Factory
    is as follows:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简洁起见，每个工厂的实现都已经完成。它们与工厂方法非常相似，唯一的区别在于在工厂方法中，我们不使用工厂方法的实例，因为我们直接使用包函数。`vehicle`
    工厂的实现如下：
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Like in any factory, we switched between the factory possibilities to return
    the one that was demanded. As we have already implemented all concrete vehicles,
    the tests must run too:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 就像在任何一个工厂一样，我们在各种工厂可能性之间切换，以返回所需的那一个。由于我们已经实现了所有具体的车辆，测试也必须运行：
- en: '[PRE1]'
  id: totrans-4
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'All of them passed. Take a close look and note that we have used the `-cover`
    flag when running the tests to return a coverage percentage of the package: 45.8%.
    What this tells us is that 45.8% of the lines are covered by the tests we have
    written, but 54.2% are still not under the tests. This is because we haven''t
    covered the cruise motorbike and the family car with the tests. If you write those
    tests, the result should rise to around 70.8%.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些测试都通过了。仔细观察并注意，我们在运行测试时使用了 `-cover` 标志，以返回包的覆盖率：45.8%。这告诉我们，45.8% 的行被我们所编写的测试覆盖，但还有
    54.2% 没有被测试覆盖。这是因为我们没有用测试覆盖巡航摩托车和家庭轿车。如果你编写那些测试，结果应该上升到大约 70.8%。
- en: Tip
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Type assertion is also known as **casting** in other languages. When you have
    an interface instance, which is essentially a pointer to a struct, you just have
    access to the interface methods. With type assertion, you can tell the compiler
    the type of the pointed struct, so you can access the entire struct fields and
    methods.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 类型断言在其他语言中也被称为**类型转换**。当你有一个接口实例，本质上是一个指向结构的指针时，你只能访问接口方法。通过类型断言，你可以告诉编译器指向的结构类型，这样你就可以访问整个结构的字段和方法。
