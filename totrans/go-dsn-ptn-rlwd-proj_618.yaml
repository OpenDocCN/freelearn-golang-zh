- en: Acceptance criteria
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 接受标准
- en: 'Requirements between this example and the one in the [Chapter 7](part0134_split_000.html#3VPBC2-9c484ed022e64a0fb0e1aebf8e05d4fd
    "Chapter 7. Behavioral Patterns - Visitor, State, Mediator, and Observer Design
    Patterns") *, Behavioral patterns - Visitor, State, Mediator, and Observer Design
    Patterns* must not change. The objective in both examples is the same so the requirements
    must also be the same. In this case, our requirements are technical, so we actually
    need to add some more acceptance criteria:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本例与第 [7章](part0134_split_000.html#3VPBC2-9c484ed022e64a0fb0e1aebf8e05d4fd "第7章。行为模式
    - 访问者、状态、中介者和观察者设计模式") *行为模式 - 访问者、状态、中介者和观察者设计模式* 之间的要求不得改变。这两个示例的目标是相同的，因此要求也必须相同。在这种情况下，我们的要求是技术性的，因此我们实际上需要添加一些额外的接受标准：
- en: We must have a publisher with a `PublishingCh` method that returns a channel
    to send messages through and triggers a `Notify` method on every observer subscribed.
  id: totrans-2
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们必须有一个具有 `PublishingCh` 方法的发布者，该方法返回一个用于发送消息的通道，并在每个已订阅的观察者上触发 `Notify` 方法。
- en: We must have a method to add new subscribers to the publisher.
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们必须有一个方法来向发布者添加新的订阅者。
- en: We must have a method to remove new subscribers from the publisher.
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们必须有一个方法来从发布者中移除新的订阅者。
- en: We must have a method to stop a subscriber.
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们必须有一个方法来停止订阅者。
- en: We must have a method to stop a `Publisher` interface that will also stop all
    subscribers.
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们必须有一个方法来停止 `Publisher` 接口，这将停止所有订阅者。
- en: All inter Goroutine communication must be synchronized so that no Goroutine
    is locked waiting for a response. In such cases, an error is returned after the
    specified timeout period has passed.
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有跨 Goroutine 通信必须同步，以确保没有 Goroutine 被锁定等待响应。在这种情况下，在指定的超时时间过后将返回一个错误。
- en: Well, these criteria seem quite daunting. We have left out some requirements
    that would add even more complexity, such as removing non-responding subscribers
    or checks to monitor that the publisher Goroutine is always on.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 嗯，这些标准看起来相当令人畏惧。我们省略了一些会增加更多复杂性的要求，例如移除未响应的订阅者或检查以确保发布者 Goroutine 总是处于活动状态。
