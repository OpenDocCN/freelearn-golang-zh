<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;2.&#xA0; Adding User Accounts" id="4MLOS1-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch24" class="calibre1"/>Chapter 2.  Adding User Accounts </h1></div></div></div><p class="calibre10">The chat application we built in the previous chapter focused on high performance transmission of messages from the clients to the server and back again. However, the way things stand, our users have no way of knowing who they would be talking to. One solution to this problem is building some kind of sign-up and login functionality and letting our users create accounts and authenticate themselves before they can open the chat page.</p><p class="calibre10">Whenever we are about to build something from scratch, we must ask ourselves how others have solved this problem before (it is extremely rare to encounter genuinely original problems) and whether any open solutions or standards already exist that we can make use of. Authorization and authentication can hardly be considered new problems, especially in the world of the Web, with many different protocols out there to choose from. So how do we decide the best option to pursue? As always, we must look at this question from the point of view of the user.</p><p class="calibre10">A lot of websites these days allow you to sign in using your accounts that exist elsewhere on a variety of social media or community websites. This saves users the tedious job of entering all of their account information over and over again as they decide to try out different products and services. It also has a positive effect on the conversion rates for new sites.</p><p class="calibre10">In this chapter, we will enhance our chat codebase to add authorization, which will allow our users to sign in using Google, Facebook, or GitHub, and you'll see how easy it is to add other sign-in portals too. In order to join the chat, users must first sign in. Following this, we will use the authorized data to augment our user experience so everyone knows who is in the room and who said what.</p><p class="calibre10">In this chapter, you will learn to:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Use the decorator pattern to wrap <code class="email">http.Handler</code> types in order to add additional functionality to handlers</li><li class="listitem">Serve HTTP endpoints with dynamic paths</li><li class="listitem">Use the <code class="email">gomniauth</code> open source project to access authentication services</li><li class="listitem">Get and set cookies using the <code class="email">http</code> package</li><li class="listitem">Encode objects as Base64 and back to normal again</li><li class="listitem">Send and receive JSON data over a web socket</li><li class="listitem">Give different types of data to templates</li><li class="listitem">Work with the channels of your own types</li></ul></div></div></body></html>