<html><head></head><body><div class="book" title="Making a pretty social sign-in page" id="4NK9E1-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec0013" class="calibre1"/>Making a pretty social sign-in page</h1></div></div></div><p class="calibre10">So far, we haven't paid much attention to making our application look nice; after all, this book is about Go and not user interface development. However, there is no excuse for building ugly apps, and so we will build a social sign-in page that is as pretty as it is functional.</p><p class="calibre10">Bootstrap is a frontend framework for developing responsive projects on the Web. It provides CSS and JavaScript code that solve many user interface problems in a consistent and good-looking way. While sites built using Bootstrap tend to look the same (although there are a plenty of ways in which the UI can be customized), it is a great choice for early versions of apps or for developers who don't have access to designers.</p><div class="informaltable" title="Tip"><h3 class="title2"><a id="tip26" class="calibre1"/>Tip</h3><p class="calibre10">If you build your application using the semantic standards set forth by Bootstrap, it will become easy for you to make a Bootstrap theme for your site or application, and you know it will slot right into your code.</p></div><p class="calibre10">We will use the version of Bootstrap hosted on a CDN so we don't have to worry about downloading and serving our own version through our chat application. This means that in order to render our pages properly, we will need an active Internet connection even during development.</p><p class="calibre10">If you prefer to download and host your own copy of Bootstrap, you can do so. Keep the files in an <code class="email">assets</code> folder and add the following call to your <code class="email">main</code> function (it uses <code class="email">http.Handle</code> to serve the assets via your application):</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">http.Handle("/assets/", http.StripPrefix("/assets",    http.FileServer(http.Dir("/path/to/assets/"))))</strong></span>
</pre><div class="informaltable" title="Note"><h3 class="title2"><a id="note0027" class="calibre1"/>Note</h3><p class="calibre10">Notice how the <code class="email">http.StripPrefix</code> and <code class="email">http.FileServer</code> functions return objects that satisfy the <code class="email">http.Handler</code> interface as per the decorator pattern that we implement with our <code class="email">MustAuth</code> helper function.</p></div><p class="calibre10">In <code class="email">main.go</code>, let's add an endpoint for the login page:</p><pre class="programlisting">http.Handle("/chat", MustAuth(&amp;templateHandler{filename:  "chat.html"})) 
http.Handle("/login", &amp;templateHandler{filename: "login.html"}) 
http.Handle("/room", r) 
</pre><p class="calibre10">Obviously, we do not want to use the <code class="email">MustAuth</code> method for our login page because it will cause an infinite redirection loop.</p><p class="calibre10">Create a new file called <code class="email">login.html</code> inside our <code class="email">templates</code> folder and insert the following HTML code:</p><pre class="programlisting">&lt;html&gt; 
  &lt;head&gt; 
    &lt;title&gt;Login&lt;/title&gt; 
    &lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com
     /bootstrap/3.3.6/css/bootstrap.min.css"&gt; 
  &lt;/head&gt; 
  &lt;body&gt; 
    &lt;div class="container"&gt; 
      &lt;div class="page-header"&gt; 
        &lt;h1&gt;Sign in&lt;/h1&gt; 
      &lt;/div&gt; 
      &lt;div class="panel panel-danger"&gt; 
        &lt;div class="panel-heading"&gt; 
          &lt;h3 class="panel-title"&gt;In order to chat, you must be signed
          in&lt;/h3&gt; 
        &lt;/div&gt; 
        &lt;div class="panel-body"&gt; 
          &lt;p&gt;Select the service you would like to sign in with:&lt;/p&gt; 
          &lt;ul&gt; 
            &lt;li&gt; 
              &lt;a href="/auth/login/facebook"&gt;Facebook&lt;/a&gt; 
            &lt;/li&gt; 
            &lt;li&gt; 
              &lt;a href="/auth/login/github"&gt;GitHub&lt;/a&gt; 
            &lt;/li&gt; 
            &lt;li&gt; 
              &lt;a href="/auth/login/google"&gt;Google&lt;/a&gt; 
            &lt;/li&gt; 
          &lt;/ul&gt; 
        &lt;/div&gt; 
      &lt;/div&gt; 
    &lt;/div&gt; 
  &lt;/body&gt; 
&lt;/html&gt; 
</pre><p class="calibre10">Restart the web server and navigate to <code class="email">http://localhost:8080/login</code>. You will notice that it now displays our <span class="strong"><strong class="calibre2">Sign in</strong></span> page:</p><p class="calibre10">
</p><div class="mediaobject"><img src="../images/00047.jpeg" alt="Making a pretty social sign-in page" class="calibre14"/></div><p class="calibre15"> </p><p class="calibre10">
</p></div></body></html>