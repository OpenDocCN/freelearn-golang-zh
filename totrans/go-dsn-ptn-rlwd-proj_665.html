<html><head></head><body>
<div class="book" title="Chapter&#xA0;3.&#xA0;Three Ways to Implement Profile Pictures">
<div class="book" title="Avatars from the OAuth2 server">
<div class="book" title="Making things prettier"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_6"><a id="ch03lvl2sec0032" class="calibre1"/>Making things prettier</h2></div></div></div><p class="calibre10">Our application is starting to look a little ugly, and its time to do something about it. In the previous chapter, we implemented the Bootstrap library into our login page, and we are going to extend its use to our chat page now. We will make three changes in <code class="email">chat.html</code>: include Bootstrap and tweak the CSS styles for our page, change the markup for our form, and tweak how we render messages on the page:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Â First, let's update the <code class="email">style</code> tag at the top of the page and insert a <code class="email">link</code> tag above it in order to include Bootstrap:<pre class="programlisting">        &lt;link rel="stylesheet"href="//netdna.bootstrapcdn.com/bootstrap
          /3.3.6/css/bootstrap.min.css"&gt; 
        &lt;style&gt; 
          ul#messages        { list-style: none; } 
          ul#messages li     { margin-bottom: 2px; } 
          ul#messages li img { margin-right: 10px; } 
        &lt;/style&gt; 
</pre></li><li class="listitem" value="2">Next, let's replace the markup at the top of the <code class="email">body</code> tag (before the <code class="email">script</code> tags) with the following code:<pre class="programlisting">        &lt;div class="container"&gt; 
          &lt;div class="panel panel-default"&gt; 
            &lt;div class="panel-body"&gt; 
              &lt;ul id="messages"&gt;&lt;/ul&gt; 
            &lt;/div&gt; 
          &lt;/div&gt; 
          &lt;form id="chatbox" role="form"&gt; 
            &lt;div class="form-group"&gt; 
              &lt;label for="message"&gt;Send a message as {{.UserData.name}}     
               &lt;/label&gt; or &lt;a href="/logout"&gt;Sign out&lt;/a&gt; 
              &lt;textarea id="message" class="form-control"&gt;&lt;/textarea&gt; 
            &lt;/div&gt; 
            &lt;input type="submit" value="Send" class="btn btn-default" /&gt; 
          &lt;/form&gt; 
        &lt;/div&gt;</pre><div class="note" title="Note"><h3 class="title2"><a id="note0039" class="calibre1"/>Note</h3><p class="calibre10">This markup follows Bootstrap standards of applying appropriate classes to various items; for example, the form-control class neatly formats elements within form (you can check out the Bootstrap documentation for more information on what these classes do).</p></div></li><li class="listitem" value="3">Finally, let's update our <code class="email">socket.onmessage</code> JavaScript code to put the sender's name as the title attribute for our image. This makes it display the image when you mouse over it rather than display it next to every message:<pre class="programlisting">        socket.onmessage = function(e) { 
          var msg = JSON.parse(e.data); 
          messages.append( 
            $("&lt;li&gt;").append( 
              $("&lt;img&gt;").attr("title", msg.Name).css({ 
                width:50, 
                verticalAlign:"middle" 
              }).attr("src", msg.AvatarURL), 
              $("&lt;span&gt;").text(msg.Message) 
            ) 
          ); 
        } 
</pre></li></ol><div class="calibre12"/></div><p class="calibre10">Build and run the application and refresh your browser to see whether a new design appears:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">go build -o chat</strong></span>
<span class="strong"><strong class="calibre2">./chat -host=:8080</strong></span>
</pre><p class="calibre10">The preceding command shows the following output:</p><p class="calibre10">
</p><div class="mediaobject"><img src="../images/00052.jpeg" alt="Making things prettier" class="calibre14"/></div><p class="calibre15"> </p><p class="calibre10">
</p><p class="calibre10">With relatively few changes to the code, we have dramatically improved the look and feel of our application.</p></div></div></div></body></html>