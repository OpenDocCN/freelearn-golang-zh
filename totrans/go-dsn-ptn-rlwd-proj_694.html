<html><head></head><body>
<div class="book" title="Installing the environment">
<div class="book" title="Starting the environment"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch05lvl2sec0049" class="calibre1"/>Starting the environment</h2></div></div></div><p class="calibre10">Now that we have all the pieces we need installed, we need to start our environment. In this section, we are going to:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Start <code class="email">nsqlookupd</code> so that our <code class="email">nsqd</code> instances are discoverable</li><li class="listitem">Start <code class="email">nsqd</code> and tell it which <code class="email">nsqlookupd</code> to use</li><li class="listitem">Start <code class="email">mongod</code> for data services</li></ul></div><p class="calibre10">Each of these daemons should run in their own terminal window, which will make it easy for us to stop them by just hitting <span class="strong"><em class="calibre11">Ctrl + C</em></span>.</p><div class="informaltable" title="Tip"><h3 class="title2"><a id="tip76" class="calibre1"/>Tip</h3><p class="calibre10">Remember the page number for this section as you are likely to revisit it a few times as you work through this chapter.</p></div><p class="calibre10">In a terminal window, run the following:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">nsqlookupd</strong></span>
</pre><p class="calibre10">Take note of the TCP port, which is <code class="email">4160</code> by default, and in another terminal window, run the following:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">nsqd --lookupd-tcp-address=localhost:4160</strong></span>
</pre><p class="calibre10">Make sure the port number in the <code class="email">--lookupd-tcp-address</code> flag matches the TCP port of the <code class="email">nsqlookupd</code> instance. Once you start <code class="email">nsqd</code>, you will notice some output printed to the terminal from both <code class="email">nsqlookupd</code> and <code class="email">nsqd</code>; this indicates that the two processes are talking to each other.</p><p class="calibre10">In yet another window or tab, start MongoDB by running the following command:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">mongod --dbpath ./db</strong></span>
</pre><p class="calibre10">The <code class="email">dbpath</code> flag tells MongoDB where to store the data files for our database. You can pick any location you like, but you'll have to make sure the folder exists before <code class="email">mongod</code> will run.</p><div class="informaltable" title="Tip"><h3 class="title2"><a id="tip77" class="calibre1"/>Tip</h3><p class="calibre10">By deleting the <code class="email">dbpath</code> folder at any time, you can effectively erase all data and start afresh. This is especially useful during development.</p></div><p class="calibre10">Now that our environment is running, we are ready to start building our components.</p></div></div></body></html>