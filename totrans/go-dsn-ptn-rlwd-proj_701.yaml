- en: Testing
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To make sure our program works, we need to do two things: first, we need to
    create a poll in the database, and second, we need to peer inside the messaging
    queue to see whether the messages are indeed being generated by `twittervotes`.'
  prefs: []
  type: TYPE_NORMAL
- en: 'In a terminal, run the `mongo` command to open a database shell that allows
    us to interact with MongoDB. Then, enter the following commands to add a test
    poll:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The preceding commands add a new item to the `polls` collection in the `ballots`
    database. We are using some common words for options that are likely to be mentioned
    by people on Twitter so that we can observe real tweets being translated into
    messages. You might notice that our poll object is missing the `results` field;
    this is fine since we are dealing with unstructured data where documents do not
    have to adhere to a strict schema. The `counter` program we are going to write
    in the next section will add and maintain the `results` data for us later.
  prefs: []
  type: TYPE_NORMAL
- en: 'Press *CtrlÂ *+ *C* to exit the MongoDB shell and type the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The `nsq_tail` tool connects to the specified messaging queue topic and outputs
    any messages that it notices. This is where we will validate that our `twittervotes`
    program is sending messages.
  prefs: []
  type: TYPE_NORMAL
- en: 'In a separate terminal window, let''s build and run the `twittervotes` program:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Now switch back to the window running `nsq_tail` and note that messages are
    indeed being generated in response to live Twitter activity.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: If you don't see much activity, try to look up trending hash tags on Twitter
    and add another poll containing these options.
  prefs: []
  type: TYPE_NORMAL
