["```go\nfunc main() { \n  var ( \n    addr  = flag.String(\"addr\", \":8080\", \"endpoint\n     address\") \n    mongo = flag.String(\"mongo\", \"localhost\", \"mongodb\n     address\") \n  ) \n  log.Println(\"Dialing mongo\", *mongo) \n  db, err := mgo.Dial(*mongo) \n  if err != nil { \n    log.Fatalln(\"failed to connect to mongo:\", err) \n  } \n  defer db.Close() \n  s := &Server{ \n    db: db, \n  } \n  mux := http.NewServeMux() \n  mux.HandleFunc(\"/polls/\",\n   withCORS(withAPIKey(s.handlePolls))) \n  log.Println(\"Starting web server on\", *addr) \n  http.ListenAndServe(\":8080\", mux) \n  log.Println(\"Stopping...\") \n} \n\n```"]