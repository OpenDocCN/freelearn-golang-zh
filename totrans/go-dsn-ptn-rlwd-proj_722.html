<html><head></head><body>
<div class="book" title="Handling endpoints">
<div class="book" title="Using tags to add metadata to structs"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec0064" class="calibre1"/>Using tags to add metadata to structs</h2></div></div></div><p class="calibre10">Tags are just a string that follows a field definition within a <code class="email">struct</code> type on the same line. We use the black tick character to denote literal strings, which means we are free to use double quotes within the tag string itself. The <code class="email">reflect</code> package allows us to pull out the value associated with any key; in our case, both <code class="email">bson</code> and <code class="email">json</code> are examples of keys, and they are each key/value pair separated by a space character. Both the <code class="email">encoding/json</code> and <code class="email">gopkg.in/mgo.v2/bson</code> packages allow you to use tags to specify the field name that will be used with encoding and decoding (along with some other properties) rather than having it infer the values from the name of the fields themselves. We are using BSON to talk with the MongoDB database and JSON to talk to the client, so we can actually specify different views of the same <code class="email">struct</code> type. For example, consider the ID field:</p><pre class="programlisting">ID bson.ObjectId `bson:"_id" json:"id"` 
</pre><p class="calibre10">The name of the field in Go is <code class="email">ID</code>, the JSON field is <code class="email">id</code>, and the BSON field is <code class="email">_id</code>, which is the special identifier field used in MongoDB.</p></div></div></body></html>