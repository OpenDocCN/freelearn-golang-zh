- en: Testing our API using curl
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用curl测试我们的API
- en: Curl is a command-line tool that allows us to make HTTP requests to our service
    so that we can access it as though we were a real app or client consuming the
    service.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Curl是一个命令行工具，它允许我们向我们的服务发送HTTP请求，这样我们就可以像真正的应用程序或客户端一样访问它。
- en: Note
  id: totrans-2
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Windows users do not have access to curl by default and will need to seek an
    alternative. Check out [http://curl.haxx.se/dlwiz/?type=bin](http://curl.haxx.se/dlwiz/?type=bin)
    or search the Web for Windows curl alternative.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Windows用户默认没有curl的访问权限，需要寻找替代方案。查看[http://curl.haxx.se/dlwiz/?type=bin](http://curl.haxx.se/dlwiz/?type=bin)或在网上搜索Windows
    curl的替代方案。
- en: 'In a terminal, let''s read all the polls in the database through our API. Navigate
    to your `api` folder and build and run the project and also ensure MongoDB is
    running:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在终端中，让我们通过我们的API读取数据库中的所有调查。导航到你的`api`文件夹，构建并运行项目，并确保MongoDB正在运行：
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'We then perform the following steps:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我们接下来执行以下步骤：
- en: 'Enter the following `curl` command that uses the `-X` flag to denote we want
    to make a `GET` request to the specified URL:'
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下使用`-X`标志的`curl`命令，表示我们想要向指定的URL发送一个`GET`请求：
- en: '[PRE1]'
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The output is printed after you hit*Enter*:'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你按下*Enter*键后，输出将被打印出来：
- en: '[PRE2]'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'While it isn''t pretty, you can see that the API returns the polls from your
    database. Issue the following command to create a new poll:'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 虽然看起来不太美观，但你可以看到API返回了数据库中的调查。发出以下命令以创建一个新的调查：
- en: '[PRE3]'
  id: totrans-12
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Get the list again to see the new poll included:'
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次获取列表以查看新调查是否已包含在内：
- en: '[PRE4]'
  id: totrans-14
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Copy and paste one of the IDs and adjust the URL to refer specifically to that
    poll:'
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制并粘贴其中一个ID，并调整URL以具体指向该调查：
- en: '[PRE5]'
  id: totrans-16
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Now we see only the selected poll. Let''s make a `DELETE` request to remove
    the poll:'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们只看到选定的调查。让我们发送一个`DELETE`请求来删除调查：
- en: '[PRE6]'
  id: totrans-18
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Now when we get all the polls again, we''ll see that the Beatles poll has gone:'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们再次获取所有调查后，我们会看到披头士调查已经消失了：
- en: '[PRE7]'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: So now that we know that our API is working as expected, it's time to build
    something that consumes the API properly.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，既然我们知道我们的API按预期工作，现在是时候构建一些能够正确消费API的东西了。
