<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="A web client that consumes the API"><div class="book" id="5J99O2-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec0042" class="calibre1"/>A web client that consumes the API</h1></div></div></div><p class="calibre10">We are going to put together an ultra simple web client that consumes the capabilities and data exposed through our API, allowing users to interact with the polling system we built in the previous chapter and earlier in this chapter. Our client will be made up of three web pages:</p><div class="book"><ul class="itemizedlist"><li class="listitem">An <code class="email">index.html</code> page that shows all the polls</li><li class="listitem">A <code class="email">view.html</code> page that shows the results of a specific poll</li><li class="listitem">A <code class="email">new.html</code> page that allows users to create new polls</li></ul></div><p class="calibre10">Create a new folder called <code class="email">web</code> alongside the <code class="email">api</code> folder and add the following content to the <code class="email">main.go</code> file:</p><pre class="programlisting">package main 
import ( 
  "flag" 
  "log" 
  "net/http" 
) 
func main() { 
  var addr = flag.String("addr", ":8081", "website address") 
  flag.Parse() 
  mux := http.NewServeMux() 
  mux.Handle("/", http.StripPrefix("/",  
    http.FileServer(http.Dir("public")))) 
  log.Println("Serving website at:", *addr) 
  http.ListenAndServe(*addr, mux) 
} 
</pre><p class="calibre10">These few lines of Go code really highlight the beauty of the language and the Go standard library. They represent a complete, highly scalable, static website hosting program. The program takes an <code class="email">addr</code> flag and uses the familiar <code class="email">http.ServeMux</code> type to serve static files from a folder called <code class="email">public</code>.</p><div class="informaltable" title="Tip"><h3 class="title2"><a id="tip105" class="calibre1"/>Tip</h3><p class="calibre10">Building the next few pages –while we're building the UI â€“consists of writing a lot of HTML and JavaScript code. Since this is not Go code, if you'd rather not type it all out, feel free to head over to the GitHub repository for this book and copy and paste it from <a class="calibre1" href="https://github.com/matryer/goblueprints">https://github.com/matryer/goblueprints</a>. You are also free to include the latest versions of the Bootstrap and jQuery libraries as you see fit, but there may be implementation differences with subsequent versions.</p></div></div></body></html>