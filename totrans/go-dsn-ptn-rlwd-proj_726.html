<html><head></head><body>
<div class="book" title="A web client that consumes the API">
<div class="book" title="Index page showing a list of polls"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec0067" class="calibre1"/>Index page showing a list of polls</h2></div></div></div><p class="calibre10">Create the <code class="email">public</code> folder inside <code class="email">web</code> and add the <code class="email">index.html</code> file after writing the following HTML code in it:</p><pre class="programlisting">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
&lt;head&gt; 
  &lt;title&gt;Polls&lt;/title&gt; 
  &lt;link rel="stylesheet"
   href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/     
    bootstrap.min.css"&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;/body&gt; 
&lt;/html&gt; 
</pre><p class="calibre10">We will use Bootstrap again to make our simple UI look nice, but we need to add two additional sections to the <code class="email">body</code> tag of the HTML page. First, add the DOM elements that will display the list of polls:</p><pre class="programlisting">&lt;div class="container"&gt; 
  &lt;div class="col-md-4"&gt;&lt;/div&gt; 
  &lt;div class="col-md-4"&gt; 
    &lt;h1&gt;Polls&lt;/h1&gt; 
    &lt;ul id="polls"&gt;&lt;/ul&gt; 
    &lt;a href="new.html" class="btn btn-primary"&gt;Create new poll&lt;/a&gt; 
  &lt;/div&gt; 
  &lt;div class="col-md-4"&gt;&lt;/div&gt; 
&lt;/div&gt; 
</pre><p class="calibre10">Here, we are using Bootstrap's grid system to center-align our content that is made up of a list of polls and a link to <code class="email">new.html</code>, where users can create new polls.</p><p class="calibre10">Next, add the following <code class="email">script</code> tags and JavaScript underneath that:</p><pre class="programlisting">&lt;script  src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"&gt;&lt;/script&gt; 
 &lt;script&gt; 
  $(function(){ 
    var update = function(){ 
      $.get("http://localhost:8080/polls/?key=abc123", null, null,  "json") 
        .done(function(polls){ 
          $("#polls").empty(); 
          for (var p in polls) { 
            var poll = polls[p]; 
            $("#polls").append( 
              $("&lt;li&gt;").append( 
                $("&lt;a&gt;") 
                  .attr("href", "view.html?poll=polls/" + poll.id) 
                  .text(poll.title) 
              ) 
            ) 
          } 
        } 
      ); 
      window.setTimeout(update, 10000); 
    } 
    update(); 
  }); 
&lt;/script&gt; 
</pre><p class="calibre10">We are using jQuery's <code class="email">$.get</code> function to make an AJAX request to our web service. We are hardcoding the API URL –which, in practice, you might decide against –or at least use a domain name to abstract it. Once the polls have loaded, we use jQuery to build up a list containing hyperlinks to the <code class="email">view.html</code> page, passing the ID of the poll as a query parameter.</p></div></div></body></html>