<html><head></head><body><div class="book" title="Running the solution" id="5K7QA1-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec0043" class="calibre1"/>Running the solution</h1></div></div></div><p class="calibre10">We built many components over the previous two chapters, and it is now time to see them all working together. This section contains everything you need in order to get all the items running, assuming you have the environment set up properly, as described at the beginning of the previous chapter. This section assumes you have a single folder that contains the four subfolders: <code class="email">api</code>, <code class="email">counter</code>, <code class="email">twittervotes</code>, and <code class="email">web</code>.</p><p class="calibre10">Assuming nothing is running, take the following steps (each step in its own terminal window):</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In the top-level folder, start the <code class="email">nsqlookupd</code> daemon:<pre class="programlisting">
<span class="strong"><strong class="calibre2">nsqlookupd</strong></span>
</pre></li><li class="listitem" value="2">In the same directory, start the <code class="email">nsqd</code> daemon:<pre class="programlisting">
<span class="strong"><strong class="calibre2">nsqd --lookupd-tcp-address=localhost:4160</strong></span>
</pre></li><li class="listitem" value="3">Start the MongoDB daemon:<pre class="programlisting">
<span class="strong"><strong class="calibre2">mongod</strong></span>
</pre></li><li class="listitem" value="4">Navigate to the <code class="email">counter</code> folder and build and run it:<pre class="programlisting">
<span class="strong"><strong class="calibre2">cd counter</strong></span>
<span class="strong"><strong class="calibre2">go build -o counter</strong></span>
<span class="strong"><strong class="calibre2">./counter</strong></span>
</pre></li><li class="listitem" value="5">Navigate to the <code class="email">twittervotes</code> folder and build and run it. Ensure that you have the appropriate environment variables set; otherwise, you will see errors when you run the program:<pre class="programlisting">
<span class="strong"><strong class="calibre2">cd ../twittervotes</strong></span>
<span class="strong"><strong class="calibre2">go build -o twittervotes</strong></span>
<span class="strong"><strong class="calibre2">./twittervotes</strong></span>
</pre></li><li class="listitem" value="6">Navigate to the <code class="email">api</code> folder and build and run it:<pre class="programlisting">
<span class="strong"><strong class="calibre2">cd ../api</strong></span>
<span class="strong"><strong class="calibre2">go build -o api</strong></span>
<span class="strong"><strong class="calibre2">./api</strong></span>
</pre></li><li class="listitem" value="7">Navigate to the <code class="email">web</code> folder and build and run it:<pre class="programlisting">
<span class="strong"><strong class="calibre2">cd ../web</strong></span>
<span class="strong"><strong class="calibre2">go build -o web</strong></span>
<span class="strong"><strong class="calibre2">./web</strong></span>
</pre></li></ol><div class="calibre12"/></div><p class="calibre10">Now that everything is running, open a browser and head to <code class="email">http://localhost:8081/</code>. Using the user interface, create a poll called <code class="email">Moods</code> and input the options as <code class="email">happy,sad,fail,success</code>. These are common enough words that we are likely to see some relevant activity on Twitter.</p><p class="calibre10">Once you have created your poll, you will be taken to the view page where you will start to see the results coming in. Wait for a few seconds and enjoy the fruits of your hard work as the UI updates in real time, showing live, real-time results:</p><p class="calibre10">
</p><div class="mediaobject"><img src="../images/00061.jpeg" alt="Running the solution" class="calibre14"/></div><p class="calibre15"> </p><p class="calibre10">
</p></div></body></html>