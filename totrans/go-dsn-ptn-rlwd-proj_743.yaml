- en: Testing our API
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 测试我们的API
- en: Now that we are ready to test our API, head to a console and navigate to the
    `cmd/meander` folder. Because our program imports the `meander` package, building
    the program will automatically build our `meander` package too.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们准备测试我们的API，请打开控制台并导航到`cmd/meander`文件夹。因为我们的程序导入了`meander`包，构建程序时会自动构建我们的`meander`包。
- en: 'Build and run the program:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 构建并运行程序：
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: To see meaningful results from our API, let's take a minute to find your actual
    latitude and longitude. Head over to [http://mygeoposition.com/](http://mygeoposition.com/)
    and use the web tools to get the `x,y` values for a location you are familiar
    with.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 为了从我们的API中获得有意义的成果，让我们花一分钟时间找到你熟悉的实际纬度和经度。访问[http://mygeoposition.com/](http://mygeoposition.com/)并使用网络工具获取你熟悉位置的`x,y`值。
- en: 'Or, pick from these popular cities:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，从以下热门城市中选择：
- en: 'London, England: `51.520707 x 0.153809`'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 英国伦敦：`51.520707 x 0.153809`
- en: 'New York, USA: `40.7127840 x -74.0059410`'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 美国纽约：`40.7127840 x -74.0059410`
- en: 'Tokyo, Japan: `35.6894870 x 139.6917060`'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日本东京：`35.6894870 x 139.6917060`
- en: 'San Francisco, USA: `37.7749290 x -122.4194160`'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 美国旧金山：`37.7749290 x -122.4194160`
- en: 'Now, open a web browser and access the `/recommendations` endpoint with some
    appropriate values for the fields:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，打开一个网页浏览器并使用适当的字段值访问`/recommendations`端点：
- en: '[PRE1]'
  id: totrans-11
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The following screenshot shows what a sample recommendation around London might
    look like:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了围绕伦敦的样本推荐可能的样子：
- en: '![Testing our API](img/00062.jpeg)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![测试我们的API](img/00062.jpeg)'
- en: Feel free to play around with the values in the URL to see how powerful the
    simple API is by trying various journey strings, tweaking the locations, and trying
    different cost range value strings.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 随意尝试调整URL中的值，通过尝试不同的行程字符串、调整位置和尝试不同的成本范围值字符串，看看简单的API有多强大。
- en: Web application
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网络应用程序
- en: We are going to download a complete web application built to the same API specifications
    and point it at our implementation to see it come to life before our eyes. Head
    over to [https://github.com/matryer/goblueprints/tree/master/chapter7/meanderweb](https://github.com/matryer/goblueprints/tree/master/chapter7/meanderweb)
    and download the `meanderweb` project into your `GOPATH` folder (alongside your
    root meander folder will do).
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将下载一个按照相同API规范构建的完整网络应用程序，并将其指向我们的实现，以便在我们眼前看到它变得生动。访问[https://github.com/matryer/goblueprints/tree/master/chapter7/meanderweb](https://github.com/matryer/goblueprints/tree/master/chapter7/meanderweb)并将`meanderweb`项目下载到你的`GOPATH`文件夹中（与你的根`meander`文件夹放在一起即可）。
- en: 'In a terminal, navigate to the `meanderweb` folder and build and run it:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在终端中，导航到`meanderweb`文件夹并构建和运行它：
- en: '[PRE2]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This will start a website running on `localhost:8081`, which is hardcoded to
    look for the API running at `localhost:8080`. Because we added the CORS support,
    this won't be a problem despite them running on different domains.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这将启动一个运行在`localhost:8081`的网站，该地址硬编码为查找运行在`localhost:8080`的API。由于我们添加了CORS支持，尽管它们运行在不同的域上，这不会成为问题。
- en: Open a browser to `http://localhost:8081/` and interact with the application;
    while somebody else built the UI, it would be pretty useless without the API that
    we built in order to power it.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 打开浏览器到`http://localhost:8081/`并与应用程序交互；虽然有人构建了UI，但没有我们构建的API来提供动力，它将毫无用处。
