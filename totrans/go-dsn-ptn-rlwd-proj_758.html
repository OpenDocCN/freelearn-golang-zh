<html><head></head><body>
<div class="book" title="The daemon backup tool">
<div class="book" title="Duplicated structures"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch08lvl2sec0087" class="calibre1"/>Duplicated structures</h2></div></div></div><p class="calibre10">Since we're going to use the same path structure as we used in our user command-line tool program, we need to include a definition of it for this program too. Insert the following structure above the <code class="email">main</code> function:</p><pre class="programlisting">type path struct { 
  Path string 
  Hash string 
} 
</pre><p class="calibre10">The object-oriented programmers out there are no doubt screaming at the pages by now, demanding for this shared snippet to exist in one place only and not be duplicated in both programs. I urge you to resist this compulsion. These four lines of code hardly justify a new package, and therefore dependency for our code, when they can just as easily exist in both programs with very little overhead. Also, consider that we might want to add a <code class="email">LastChecked</code> field to our <code class="email">backupd</code> program so that we can add rules where each folder only gets archived once an hour at most. Our <code class="email">backup</code> program doesn't care about this and will chug along perfectly happy with its view into what fields constitute a <code class="email">path</code> structure.</p></div></div></body></html>