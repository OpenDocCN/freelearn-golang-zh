- en: Testing our solution
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 测试我们的解决方案
- en: Let's see whether our two programs play nicely together. You may want to open
    two terminal windows for this, since we'll be running two programs.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看我们的两个程序是否能够很好地一起工作。你可能需要为此打开两个终端窗口，因为我们将会运行两个程序。
- en: 'We have already added some paths to the database, so let''s use `backup` to
    see them:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经将一些路径添加到了数据库中，所以让我们使用`backup`来看看它们：
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You should see the two test folders; if you don''t, refer to the *Adding paths*
    section:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该能看到两个测试文件夹；如果你看不到，请参考*添加路径*部分：
- en: '[PRE1]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: In another window, navigate to the `backupd` folder and create our two test
    folders, called `test` and `test2`.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在另一个窗口中，导航到`backupd`文件夹并创建我们的两个测试文件夹，分别命名为`test`和`test2`。
- en: 'Build `backupd` using the usual method:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 使用常规方法构建`backupd`：
- en: '[PRE2]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Assuming all is well, we can now start the backup process, being sure to point
    the `db` path to the same path as we used for the `backup` program and specifying
    that we want to use a new folder called `archive` to store the ZIP files. For
    testing purposes, let''s specify an interval of `5` seconds in order to save time:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一切顺利，我们现在可以开始备份过程，确保将`db`路径指向与`backup`程序相同的路径，并指定我们想要使用一个名为`archive`的新文件夹来存储ZIP文件。为了测试目的，让我们指定一个`5`秒的间隔以节省时间：
- en: '[PRE3]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Immediately, `backupd` should check the folders, calculate the hashes, note
    that they are different (to `Not yet archived`), and initiate the archive process
    for both folders. It will print the output that tells us this:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 立即，`backupd`应该检查文件夹，计算哈希值，并注意到它们是不同的（标记为`尚未存档`），并为两个文件夹启动存档过程。它将打印出告诉我们这一点的输出：
- en: '[PRE4]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Open the newly created `archive` folder inside `backup/cmds/backupd` and note
    that it has created two subfolders: `test` and `test2`. Inside these are compressed
    archive versions of the empty folders. Feel free to unzip one and see; nothing
    very exciting so far.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 打开`backup/cmds/backupd`内部新创建的`archive`文件夹，并注意它创建了两个子文件夹：`test`和`test2`。在这些文件夹内部是空文件夹的压缩存档版本。随意解压一个看看；目前还没有什么特别激动人心的东西。
- en: 'Meanwhile, back in the terminal window, `backupd` has been checking the folders
    for changes again:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 同时，在终端窗口中，`backupd`再次检查文件夹是否有变化：
- en: '[PRE5]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In your favorite text editor, create a new text file inside the `test2` folder,
    containing the word `test`, and save it as `one.txt`. After a few seconds, you
    will see that `backupd` has noticed the new file and created another snapshot
    inside the `archive/test2` folder.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在你喜欢的文本编辑器中，在`test2`文件夹内创建一个新的文本文件，包含单词`test`，并将其保存为`one.txt`。几秒钟后，你会看到`backupd`已经注意到了新文件，并在`archive/test2`文件夹内创建了一个新的快照。
- en: Of course, it has a different filename because the time is different, but if
    you unzip it, you will notice that it has indeed created a compressed archive
    version of the folder.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，由于时间不同，它有一个不同的文件名，但如果你解压它，你会注意到它确实创建了一个文件夹的压缩存档版本。
- en: 'Play around with the solution by taking the following actions:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 通过以下操作来尝试解决方案：
- en: Change the contents of the `one.txt` file
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改`one.txt`文件的内容
- en: Add a file to the `test` folder too
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 也在`test`文件夹中添加一个文件
- en: Delete a file
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除一个文件
