<html><head></head><body>
<div class="book" title="Entities and data access">
<div class="book" title="Reading data from Google Cloud Datastore"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch09lvl2sec00100" class="calibre1"/>Reading data from Google Cloud Datastore</h2></div></div></div><p class="calibre10">Reading data is as simple as putting it with the <code class="email">datastore.Get</code> method, but since we want to maintain keys in our entities (and <code class="email">datastore</code> methods don't work like that), it's common to add a helper function like the one we are going to add to <code class="email">questions.go</code>:</p><pre class="programlisting">func GetQuestion(ctx context.Context, key *datastore.Key) 
(*Question, error) { 
  var q Question 
  err := datastore.Get(ctx, key, &amp;q) 
  if err != nil { 
    return nil, err 
  } 
  q.Key = key 
  return &amp;q, nil 
} 
</pre><p class="calibre10">The <code class="email">GetQuestion</code> function takes <code class="email">context.Context</code> and the <code class="email">datastore.Key</code> method of the question to get. It then does the simple task of calling <code class="email">datastore.Get</code> and assigning the key to the entity before returning it. Of course, errors are handled in the usual way.</p><p class="calibre10">This is a nice pattern to follow so that users of your code know that they never have to interact with <code class="email">datastore.Get</code> and <code class="email">datastore.Put</code> directly but rather use the helpers that can ensure the entities are properly populated with the keys (along with any other tweaks that they might want to do before saving or after loading).</p></div></div></body></html>