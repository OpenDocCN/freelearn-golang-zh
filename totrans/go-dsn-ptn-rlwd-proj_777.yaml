- en: Reading data from Google Cloud Datastore
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从 Google Cloud Datastore 读取数据
- en: 'Reading data is as simple as putting it with the `datastore.Get` method, but
    since we want to maintain keys in our entities (and `datastore` methods don''t
    work like that), it''s common to add a helper function like the one we are going
    to add to `questions.go`:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 读取数据与使用 `datastore.Get` 方法一样简单，但由于我们希望在实体中维护键（而 `datastore` 方法并不这样做），因此通常需要添加一个辅助函数，就像我们要添加到
    `questions.go` 中的那样：
- en: '[PRE0]'
  id: totrans-2
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The `GetQuestion` function takes `context.Context` and the `datastore.Key` method
    of the question to get. It then does the simple task of calling `datastore.Get`
    and assigning the key to the entity before returning it. Of course, errors are
    handled in the usual way.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '`GetQuestion` 函数接收 `context.Context` 和要获取的问题的 `datastore.Key` 方法。然后它执行一个简单的任务，即调用
    `datastore.Get` 并在返回之前将键分配给实体。当然，错误处理遵循常规方式。'
- en: This is a nice pattern to follow so that users of your code know that they never
    have to interact with `datastore.Get` and `datastore.Put` directly but rather
    use the helpers that can ensure the entities are properly populated with the keys
    (along with any other tweaks that they might want to do before saving or after
    loading).
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个很好的模式，以便你的代码的用户知道他们永远不需要直接与 `datastore.Get` 和 `datastore.Put` 交互，而是使用可以确保实体正确填充键（以及他们可能在保存或加载之前想要进行的任何其他调整）的辅助函数。
