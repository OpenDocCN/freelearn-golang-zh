["```go\nfunc CastVote(ctx context.Context, answerKey *datastore.Key, score int) (*Vote, error) { \n  question, err := GetQuestion(ctx, answerKey.Parent()) \n  if err != nil { \n    return nil, err \n  } \n  user, err := UserFromAEUser(ctx) \n  if err != nil { \n    return nil, err \n  } \n  var vote Vote \n  err = datastore.RunInTransaction(ctx, func(ctx context.Context) error { \n    var err error \n    vote, err = castVoteInTransaction(ctx, answerKey, question, user, \n     score) \n    if err != nil { \n      return err \n    } \n    return nil \n  }, &datastore.TransactionOptions{XG: true}) \n  if err != nil { \n    return nil, err \n  } \n  return &vote, nil \n} \n\n```"]