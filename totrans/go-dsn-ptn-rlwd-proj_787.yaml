- en: Casting a vote
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before our API is a complete feature, we need to add the ability for users to
    cast votes. We'll break this piece into two functions in order to increase the
    readability of our code.
  prefs: []
  type: TYPE_NORMAL
- en: 'Inside `votes.go`, add the following function:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The `CastVote` function takes (along with the obligatory `Context`) `datastore.Key`
    for the answer that is being voted for and a score integer. It loads the question
    and the current user, starts a data store transaction, and passes execution off
    to the `castVoteInTransaction` function.
  prefs: []
  type: TYPE_NORMAL
