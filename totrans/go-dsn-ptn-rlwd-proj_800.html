<html><head></head><body><div class="book" title="Deploying apps with multiple modules" id="6976M1-9c484ed022e64a0fb0e1aebf8e05d4fd"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09lvl1sec0065" class="calibre1"/>Deploying apps with multiple modules</h1></div></div></div><p class="calibre10">Deploying the application is slightly more complicated with multiple modules, as the dispatcher and index files each require a dedicated deployment command.</p><p class="calibre10">Deploy the modules with the following:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">goapp deploy default/app.yaml api/app.yaml web/app.yaml</strong></span>
</pre><p class="calibre10">Once the operation has finished, we can update the dispatcher using the <code class="email">appcfg.py</code> command (which you must ensure is in your path you'll find it in the Google App Engine SDK for the Go folder we downloaded at the start of the chapter):</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">appcfg.py update_dispatch .</strong></span>
</pre><p class="calibre10">Once the dispatch has been updated, we can push the indexes to the cloud:</p><pre class="programlisting">
<span class="strong"><strong class="calibre2">appcfg.py update_indexes -A <span class="strong"><strong class="calibre2">YOUR_APPLICATION_ID_HERE</strong></span> ./default</strong></span>
</pre><p class="calibre10">Now that the application is deployed, we can see it in the wild by navigating to our <span class="strong"><em class="calibre11">appspot</em></span> URL; <code class="email">https://YOUR_APPLICATION_ID_HERE.appspot.com/</code>.</p><div class="informaltable" title="Note"><h3 class="title2"><a id="note00158" class="calibre1"/>Note</h3><p class="calibre10">You might get an error that says <code class="email">The index for this query is not ready to serve</code>. This is because it takes Google Cloud Datastore a little time to prepare things on the server; usually, it doesn't take more than a few minutes, so go and have a cup of coffee and try again later.</p></div><p class="calibre10">An interesting aside is that if you hit the URL with HTTPS, Google's servers will serve it using HTTP/2.</p><p class="calibre10">Once your application is functional, ask an interesting question and send the link to your friends to solicit answers.</p></div></body></html>