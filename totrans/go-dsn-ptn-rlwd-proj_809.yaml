- en: Starting with tests
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从测试开始
- en: Where possible, starting by writing test code has many advantages that usually
    end up increasing the quality and maintainability of your code. We are going to
    write a unit test that will use our new service to hash and then validate a password.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在可能的情况下，首先编写测试代码有许多优点，通常最终会提高代码的质量和可维护性。我们将编写一个单元测试，该测试将使用我们的新服务来哈希并验证密码。
- en: 'Create a new file called `service_test.go` and add the following code:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个名为`service_test.go`的新文件，并添加以下代码：
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We will create a new service via the `NewService` method and then use it to
    call the `Hash` and `Validate` methods. We even test an unhappy case, where we
    get the password wrong and ensure that `Validate` returns `false`–otherwise, it
    wouldn't be very secure at all.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过`NewService`方法创建一个新的服务，然后使用它来调用`Hash`和`Validate`方法。我们甚至测试了一个不愉快的案例，即我们输入了错误的密码，并确保`Validate`返回`false`——否则，它将非常不安全。
