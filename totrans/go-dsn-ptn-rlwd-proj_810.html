<html><head></head><body>
<div class="book" title="Building the service" id="6D18U1-9c484ed022e64a0fb0e1aebf8e05d4fd">
<div class="book" title="Constructors in Go"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch10lvl2sec00120" class="calibre1"/>Constructors in Go</h2></div></div></div><p class="calibre10">A <span class="strong"><strong class="calibre2">constructor</strong></span> in other object-oriented languages is a special kind of function that creates instances of classes. It performs any initialization and takes in required arguments such as dependencies, among others. It is usually the only way to create an object in these languages, but it often has weird syntax or relies on naming conventions (such as the function name being the same as the class, for example).</p><p class="calibre10">Go doesn't have constructors; it's much simpler and just has functions, and since functions can return arguments, a constructor would just be a global function that returns a usable instance of a struct. The Go philosophy of simplicity drives these kinds of decisions for the language designers; rather than forcing people to have to learn about a new concept of constructing objects, developers only have to learn how functions work and they can build constructors with them.</p><p class="calibre10">Even if we aren't doing any special work in the construction of an object (such as initializing fields, validating dependencies, and so on), it is sometimes worth adding a construction function anyway. In our case, we do not want to bloat the API by exposing the <code class="email">vaultService</code> type since we already have our <code class="email">Service</code> interface type exposed and are hiding it inside a constructor is a nice way to achieve this.</p><p class="calibre10">Underneath the <code class="email">vaultService</code> struct definition, add the <code class="email">NewService</code> function:</p><pre class="programlisting">// NewService makes a new Service. 
func NewService() Service { 
  return vaultService{} 
} 
</pre><p class="calibre10">Not only does this prevent us from needing to expose our internals, but if in the future we do need to do more work to prepare the <code class="email">vaultService</code> for use, we can also do it without changing the API and, therefore, without requiring the users of our package to change anything on their end, which is a big win for API design.</p></div></div></body></html>