<html><head></head><body>
<div class="book" title="Creating a server command">
<div class="book" title="Using Go kit endpoints"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch10lvl2sec00124" class="calibre1"/>Using Go kit endpoints</h2></div></div></div><p class="calibre10">It is time to create one of our endpoints instances that we can pass to our servers. Add the following code to the main function body:</p><pre class="programlisting">  hashEndpoint := vault.MakeHashEndpoint(srv) 
  validateEndpoint := vault.MakeValidateEndpoint(srv) 
  endpoints := vault.Endpoints{ 
    HashEndpoint:     hashEndpoint, 
    ValidateEndpoint: validateEndpoint, 
  } 
</pre><p class="calibre10">We are assigning the fields to the output of our endpoint helper functions for both the hash and validate methods. We are passing in the same service for both, so the <code class="email">endpoints</code> variable essentially ends up being a wrapper around our <code class="email">srv</code> service.</p><div class="informaltable" title="Tip"><h3 class="title2"><a id="tip171" class="calibre1"/>Tip</h3><p class="calibre10">You may be tempted to neaten up this code by removing the assignment to the variables altogether and just set the return of the helper functions to the fields in the struct initialization, but when we come to add middleware later, you'll be thankful for this approach.</p></div><p class="calibre10">We are now ready to start up our JSON/HTTP and gRPC servers using these endpoints.</p></div></div></body></html>