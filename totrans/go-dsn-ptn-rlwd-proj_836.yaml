- en: Dockerfile
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'A Docker image is like a mini virtual machine. It contains everything that''s
    needed to run an application: the operating system the code will run on, any dependencies
    that our code might have (such as Go kit in the case of our Vault service), and
    the binaries of our application itself.'
  prefs: []
  type: TYPE_NORMAL
- en: An image is described with `Dockerfile`; a text file containing a list of special
    commands that instruct Docker how to build the image. They are usually based on
    another container, which saves you from building up everything that might be needed
    in order to build and run Go applications.
  prefs: []
  type: TYPE_NORMAL
- en: 'Inside the `vault` folder from the code we wrote in [Chapter 10](part0213_split_000.html#6B47Q1-9c484ed022e64a0fb0e1aebf8e05d4fd
    "Chapter 10.  Micro-services in Go with the Go kit Framework"), *Micro-services
    in Go with the Go kit Framework*, add a file called `Dockerfile` (note that this
    filename has no extension), containing the following code:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Each line in a  `Dockerfile` file represents a different command that is run
    while the image is being built. The following table describes each of the commands
    we have used:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Command** | **Description** |'
  prefs: []
  type: TYPE_TB
- en: '| `FROM` | The name of the image that this image will be based on. Single words,
    such as scratch, represent official Docker images hosted on Docker Hub. For more
    information on the scratch image, refer to `https://hub.docker.com/_/scratch/`.
    |'
  prefs: []
  type: TYPE_TB
- en: '| `ADD` | Copies files into the container. We are copying our `vaultd` binary
    and calling it `vaultd`. |'
  prefs: []
  type: TYPE_TB
- en: '| `EXPOSE` | Exposes the list of ports; in our case, the Vault service binds
    to `:8080` and `:8081`. |'
  prefs: []
  type: TYPE_TB
- en: '| `ENTRYPOINT` | The binary to run when the container is executed in our case,
    the `vaultd` binary, which will be put there by the previous call to go install.
    |'
  prefs: []
  type: TYPE_TB
- en: '| `MAINTAINER` | Name and email of the person responsible for maintaining the
    Docker image. |'
  prefs: []
  type: TYPE_TB
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: For a complete list of the supported commands, consult the online Docker documentation
    at [https://docs.docker.com/engine/reference/builder/#dockerfile-reference](https://docs.docker.com/engine/reference/builder/#dockerfile-reference).
  prefs: []
  type: TYPE_NORMAL
