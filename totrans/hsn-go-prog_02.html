<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Manipulating String Values</h1>
                </header>
            
            <article>
                
<p class="mce-root">We now have an overview of what this book will take us through. We know how to install Go binaries and write Go code and run it using just the terminal. In this chapter, we're going to learn some recipes for manipulating string values, such as trimming spaces from beginning and end of a string, extracting sub strings, replacing parts of a string, escaping characters in a string value, and capitalizing string values.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Trimming spaces from the beginning and end of a string</h1>
                </header>
            
            <article>
                
<p class="mce-root">Let's start with trimming spaces from the beginning and end of a string. There are many reasons why you may want to remove spaces from the beginning and end of a string; for instance, if you were accepting some values such as first name, you usually don't require any spaces at the end or at the beginning of that string value.</p>
<p class="mce-root">So, let's go ahead with our project and see how we can carry out this process in Go language. So, you have to add a new project for trimming spaces and have the <kbd>main.go</kbd> file that we're going to put our code in and then we're just going to run it; your screen should look something like this:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-293 image-border" src="assets/d928383e-79c9-4b4c-9ae3-36e489d22922.png" style="width:50.75em;height:14.08em;"/></p>
<p class="mce-root">To begin, let's imagine that we have a string variable that has some spaces in it: </p>
<pre>package main<br/>import (<br/>  "fmt"<br/>  "strings"<br/>)<br/>func main(){<br/>  greetings := "\t Hello, World "<br/>  fmt.Printf("%d %s\n", len(greetings), greetings)<br/>}</pre>
<p><span>In the preceding code snippet, <kbd>/t</kbd> is for tab and we have some space after it. There is <em>hello World</em> and some more space. I have put this string value to the console with its length property. The <kbd>len</kbd> function will give us the length of the greetings string, indicating the number of characters in that string. Let's run this:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-683 image-border" src="assets/5cf1f06e-2e5f-4398-abbc-932f34a332f8.png" style="width:24.00em;height:20.33em;"/></p>
<p class="mce-root">As you can see from the screenshot, it has 15 characters, including the tab and the spaces and the rest of the string.</p>
<p class="mce-root">Now, let's go ahead and trim the spaces from the variable. We have <kbd>strings.TrimSpace</kbd>, which returns another string, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-295 image-border" src="assets/d5b7429f-3f3d-4967-bd9f-ac7e9f16f587.png" style="width:106.42em;height:45.08em;"/></p>
<p class="mce-root">We can then capture the string within a variable. Check the following code:</p>
<pre>package main<br/>import (<br/> "fmt"<br/> "strings"<br/>)<br/>func main(){<br/> greetings := "\t Hello, World "<br/> fmt.Printf("%d %s\n", len(greetings), greetings)<br/>trimmed := strings.TrimSpace(greetings)<br/> fmt.Printf("%d %s\n", len(trimmed), trimmed)<br/>}</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The output for the preceding code is as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-684 image-border" src="assets/61ab38f8-1c83-447e-ae87-23c8c64c4d78.png" style="width:23.42em;height:20.08em;"/></p>
<p class="mce-root">Voila! As you see, our spaces from the beginning and end, including the tab, are gone and now we have 12 characters here. That's how you trim spaces in Go. In the next section, we are going to see how we can extract sub-strings from a string value.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Extracting sub-strings from a string value</h1>
                </header>
            
            <article>
                
<p>In this section, you will learn how to extract sub-strings from a string value. String in Go language is effectively a read-only slice of bytes, which means that you can perform any slice operation on a string as well. Let's go to our editor and see how we can proceed with it.</p>
<p>In the editor, add a new file and name it <kbd>main.go</kbd>. You have to change the Package to <kbd>main</kbd> and add a new function called <kbd>main</kbd>. This <kbd>main</kbd> function will be the entry point of our example. So, let's imagine we have a string value as follows:</p>
<pre>package main<br/>import "fmt"<br/>func main(){<br/> greetings := "Hello, World and Mars"</pre>
<p>I want to remove the word <em>Mars</em> and the word <em>and</em> from the string and extract just the <em>Hello, World</em> part of it. This can be done as follows:</p>
<pre>package main<br/>import "fmt"<br/>func main(){<br/> greetings := "Hello, World and Mars"<br/> helloWorld := greetings[0:12]<br/> fmt.Println(helloWorld)<br/>}</pre>
<p>The index starts from a 0, since it is slice.  The output of the preceding code is as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-685 image-border" src="assets/4112dafd-57f4-4f89-85fe-baf862ef351d.png" style="width:24.25em;height:20.92em;"/></p>
<p>As you can see, we only extracted the <em><span class="packt_screen">Hello, World</span></em> part of the whole phrase. I<span>t will still work without a</span> zero in the index. If we only want the <em>World</em> and <em>Mars</em> part of this string, the index can be [6:].</p>
<p>That's how you extract sub-strings from a string value. In our next video, we're going to see how we can replace a part of a string with another string.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Replacing parts of a string</h1>
                </header>
            
            <article>
                
<p>In this section, we're going to see how we can quickly replace a part of a string with another value. When it comes to string manipulation in Go language, you will find a lot of utility methods under the strings package. Herein, we are going to use the same package for replacing a part of the string with another value. Let's go back to our editor and see how we can commence this process.</p>
<p>So, I'm going to have a <kbd>helloWorld</kbd> variable and we're going to replace <em>World</em> with <em>Mars</em>. Check the following code:</p>
<pre>package main<br/>import (<br/> "strings"<br/> "fmt"<br/>)<br/>func main(){<br/> helloWorld := "Hello, World"<br/> helloMars := strings.Replace(helloWorld, "World", "Mars", 1)<br/> fmt.Println(helloMars)<br/>}</pre>
<p class="mce-root">The following screenshot will explain the code that we just looked at:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-298 image-border" src="assets/5814b177-4e26-4d61-a5d1-8fd981a31820.png" style="width:43.83em;height:25.50em;"/></p>
<p class="mce-root"/>
<p>As shown in the screenshot, we're going to use <kbd>strings</kbd> package and it has a  <kbd>replace</kbd> function and it accepts the variable that we're going to search <span>as the first parameter, which is</span> <em>Hello,  World</em>. The old string would be the things in the string that we want to replace, which is <em>World</em>. The new string would be <em>Mars</em>, and number of repetitions that we want to apply to this replacement would be '1'.</p>
<p>If you look at it, the signature of this method returns another string and we're going to assign it to another variable, in this case <kbd>helloMars</kbd>. Thus, you will see the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-299 image-border" src="assets/5dbd4c75-dc8b-4889-a38b-a6eaf0bfd9fb.png" style="width:103.42em;height:55.00em;"/></p>
<p>As you can see, we've replaced <em>World</em> with <em>Mars</em>.</p>
<p>Now, let's imagine that we have multiple instances of <em>World</em> in the sentence and you use the following code:</p>
<pre>package main<br/>import (<br/> "strings"<br/> "fmt"<br/>)</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<pre>func main(){<br/> helloWorld := "Hello, World. How are you World, I am good, thanks World."<br/> helloMars := strings.Replace(helloWorld, "World", "Mars", 1)<br/> fmt.Println(helloMars)<br/>}</pre>
<p>So, if you have a strength value like that, using 1 will not help. It'll only replace the first occurrence of the word <em>World</em> with <em>Mars</em> but the rest of it will still remain as <em>World,</em> as seen in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-686 image-border" src="assets/25508dbe-50fe-4367-b3de-a25ecc622bd8.png" style="width:41.00em;height:24.00em;"/></p>
<p>Thus, you can replace as many instances of <em>World</em> as you like by changing the number of repetitions. For instance, if you would want to replace the first two instances of <em>World</em> with <em>Mars</em>, the number of repetitions would be 2, and so on and so forth. If you want to replace all instances of <em>World</em> with <em>Mars</em>, one quick and easy way would be to use minus one, and that effectively tells Go to replace any <span>instance of the W</span>orld within that string that you can find with the word <em>Mars</em>. Let's run the following code:</p>
<pre>package main<br/>import (<br/> "strings"<br/> "fmt"<br/>)</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>
<p class="mceNonEditable"/>
<pre>func main(){<br/> helloWorld := "Hello, World. How are you World, I am good, thanks World."<br/> helloMars := strings.Replace(helloWorld, "World", "Mars", -1)<br/> fmt.Println(helloMars)<br/>}</pre>
<p>The preceding code will give the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-687 image-border" src="assets/16d3d73a-73e5-425a-8429-6c109e3165a5.png" style="width:37.50em;height:22.42em;"/></p>
<p>Now, all instances of world have been replaced by the word <em>Mars</em>. The Go strings package gives you a lot of other options, and, as you have seen, replacement of a string is really easy. In our next section, we're going to see how we can escape characters in strings.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Escaping characters in a string</h1>
                </header>
            
            <article>
                
<p>In this section, we're going to see how to escape special characters in string values. Similar to many other languages in the market today, Go treats certain characters in a special way. For instance, if Go sees \t characters in a string value, it will treat them as a tab character instead. Also, without escaping it, you cannot have double quotes within a double quote, and right now we're going to see how to escape them in order to properly show those characters to our output.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>As always, we will have our <kbd>main.go</kbd> file and the <kbd>main</kbd> function. So let's check an example that is similar to the previous one.</p>
<pre>package main<br/>import "fmt"<br/>func main(){<br/>  helloWorld := "Hello World, this is Tarik."<br/><span>}</span></pre>
<p>So, if I want to include double quotes around the term Tarik, I can do it, but, as you can see, it gives me a compile time error, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-689 image-border" src="assets/ba60f272-bc4b-4602-a2a7-32053c00cb32.png" style="width:63.08em;height:27.25em;"/></p>
<p>So, let's fix this. All I need to do is use <kbd>\</kbd>. So, anytime you want to escape a special character, you escape it with a <kbd>\</kbd>. So, let's go ahead and add it to our console:</p>
<pre>package main<br/>import "fmt" <br/>func main(){<br/> helloWorld := "Hello World, this is \"Tarik.\""<br/><span>fmt.Println(helloWorld)</span><br/><span>}</span></pre>
<p>The output for the the preceding code will be as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-690 image-border" src="assets/08b1ad84-c990-4a17-aed7-62879f0a4566.png" style="width:24.50em;height:15.42em;"/></p>
<p>All right! As you can see, it says <span class="packt_screen">Hello World, this is "Tarik.", </span>but Tarik is within two double quotes as desired.</p>
<p>Now, there are other problems as well. Let's imagine that I want to, for some reason, output <kbd>\t</kbd> without the double quotes:</p>
<pre>package main<br/>import "fmt"<br/>func main(){<br/> helloWorld := "Hello World, this is \"Tarik.\" \t"<br/><span>fmt.Println(helloWorld)</span><br/><span>}</span></pre>
<p>It looks good to go and, since we don't see any compile time error, we can go ahead and run it. The following output is obtained:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-691 image-border" src="assets/13045bfc-e96b-4df1-895d-1ffc2ea35d43.png" style="width:24.92em;height:15.08em;"/></p>
<p>As you can see, <kbd>\t</kbd> does not appear in the console; in fact, I see a big tab because this is a special character; <kbd>\t</kbd> means tab. There are other special characters like that, for instance <kbd>\n</kbd>, which means new line. So, let's try and run the following code:</p>
<pre>package main<br/>import "fmt"<br/>func main(){<br/> helloWorld := "Hello World, this is \"Tarik.\" \t\nHello again."<br/> fmt.Println(helloWorld)<br/>}</pre>
<p>The preceding code will give the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-692 image-border" src="assets/6efe8ca7-17d6-4ca7-93b5-a8bdaec6d69f.png" style="width:25.83em;height:16.33em;"/></p>
<p>As you can see, <kbd>Hello again</kbd>, instead of being on the same line, is put on a new line. If I remove <kbd>/n</kbd> and run the code again, the hello again will be back to the same line and we'll also have a big space because of the special character <kbd>\t</kbd>:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-693 image-border" src="assets/4257ff60-42f1-4acc-ace5-4714afc05243.png" style="width:30.33em;height:15.75em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>So, how can we escape the <kbd>\t</kbd>?  Let's see what happens if we include another <kbd>\</kbd> and run the following code:</p>
<pre>package main<br/>import "fmt"<br/>func main(){<br/> helloWorld := "Hello World, this is \"Tarik.\" \\tHello again."<br/> fmt.Println(helloWorld)<br/>}</pre>
<p>As you can see in the following screenshot, we now have the \t within the string value and Go does not treat it as a special character any more:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-694 image-border" src="assets/dc5f9031-2a97-42f3-b989-105a8b825d3d.png" style="width:30.67em;height:21.00em;"/></p>
<p>That's how you use escape characters in Go. In our next section, we're going to see how to capitalize string values easily.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Capitalizing string values</h1>
                </header>
            
            <article>
                
<p>In this section, we're going to see how to capitalize words in Go. There are various ways in which you might want to capitalize words in a sentence; for instance, you may want to capitalize all the letters in the sentence or just the first letters of all the words and we're going to see how to do it.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Let's go back to our editor. The first few steps remain the same as followed while trimming spaces from the beginning and end of a string. However, here, we have a variable that has "hello world, how are you today", and we want to capitalize just the first letters of all the words in this sentence. So, the strings package, which we've seen before in our previous section, has a function called <kbd>title</kbd> and the signature of this method, too, returns another string that we can assign to another variable, which is <kbd>HelloWorldtitle</kbd>. To proceed, we will have to run the, code just described:</p>
<pre>package main<br/>import (<br/> "strings"<br/> "fmt"<br/>)<br/>func main(){<br/> helloWorld := "hello world, how are you today!"<br/> helloWorldtitle := strings.Title(helloWorld)<br/> fmt.Println(helloWorldtitle)<br/>}</pre>
<p>The preceding code will give the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-695 image-border" src="assets/2c064635-37d6-4fc4-bb17-d4adf025420b.png" style="width:24.67em;height:15.75em;"/></p>
<p>As you can see, the code has resulted in the capitalization of all the first letters of the sentence. Now, if we want to capitalize all the letters in this sentence, we will have to run the following code with the new <kbd>ToUpper</kbd> function:</p>
<pre>package main<br/>import (<br/> "strings"<br/> "fmt"<br/>)<br/>func main(){<br/> helloWorld := "hello world, how are you today!"<br/> helloWorldtitle := strings.Title(helloWorld)<br/> fmt.Println(helloWorldtitle)<br/>helloWorldUpper := strings.ToUpper(helloWorld)<br/> fmt.Println(helloWorldUpper)<br/>}</pre>
<p>If you do print <kbd>Ln</kbd>, it actually prints that string in a new line, whereas if you do not print, it doesn't do that. The code that we just saw will give the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-696 image-border" src="assets/c2e4a283-6ac9-40e3-8556-d4c302a7f66d.png" style="width:37.83em;height:23.00em;"/></p>
<p>This is all about capitalizing string values!</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we learned how to trim spaces from the beginning and end of strings, how to extract sub-strings from a string value, how to replace parts of a string, how to escape characters in a string, and how to capitalize string values. With this, we have finished learning about string manipulation. The next chapter will describe how to carry out type conversions among various types and we're going to start off with converting pool to a string value.</p>


            </article>

            
        </section>
    </body></html>