<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Date and Time</h1>
                </header>
            
            <article>
                
<p class="mce-root">In this chapter, we're going to learn how to work with dates and times in the Go programming language. You will learn how to do basic operations on <kbd>DateTime</kbd> values such as finding the difference between two dates, getting today's date, doing simple arithmetic operations on <kbd>DateTime</kbd> values, and parsing dates from string values. We will cover the following topics in this chapter:</p>
<ul>
<li>Finding today's date and time</li>
<li>Adding and subtracting from a date</li>
<li>Finding the difference between two dates</li>
<li>Parsing dates and times from strings</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Finding today's date and time</h1>
                </header>
            
            <article>
                
<p class="mce-root">In this section, we are going to learn how to find today's date and time. We can use <kbd>time.Now</kbd> to get today's date, and it imports a <kbd>time</kbd> package, and <kbd>time</kbd> returns a <kbd>time</kbd> type, and so we are going to assign this to another variable and use the <kbd>String</kbd> function. The following code will help you understand better:</p>
<pre>package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  current := time.Now()<br/>  fmt.Println(current.String())<br/>}</pre>
<p>The output for the preceding code is as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-717 image-border" src="assets/eb811292-5437-4c8a-9ece-790933beab03.png" style="width:32.67em;height:13.17em;"/></p>
<p class="mce-root">As you can see, we get a big string here that has everything, and we can, of course, format that to our needs. For instance, I can add the <kbd>current.Format</kbd> function and a predefined layout as seen in the following screenshot:</p>
<pre class="CDPAlignLeft CDPAlign">package main<br/><br/>import (<br/> "time"<br/> "fmt"<br/>)<br/><br/>func main(){<br/> current := time.Now()<br/> fmt.Println(current.String())<br/><br/> fmt.Println("MM-DD-YYYY :", current.Format("01-02-2006"))<br/>}</pre>
<p class="mce-root">The output to the code shown in the preceding screenshot is as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-718 image-border" src="assets/0db48887-4277-48e0-a361-5e40c9af55bb.png" style="width:33.08em;height:13.92em;"/></p>
<p class="mce-root"/>
<p class="mce-root">In the previous screenshot, you will see today's date. You can also have the time and date together by bypassing the layout <kbd>snf</kbd> , mentioning the format of the output (<kbd>YYYY-MM-DD hh:mm:ss</kbd>) that you want, as shown in the following code:</p>
<pre class="CDPAlignLeft CDPAlign">package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  current := time.Now()<br/>  fmt.Println(current.String())<br/><br/>  fmt.Println("MM-DD-YYYY :", current.Format("01-02-2006"))<br/><br/>  fmt.Println("YYYY-MM-DD hh:mm:ss", current.Format("2006-01-02 15:04:05"))<br/>}</pre>
<p class="mce-root">On running the code mentioned in the preceding screenshot, we get the following output with the year, month, and day, and the time information as well. This can be seen in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-719 image-border" src="assets/ec22743f-6643-4cdc-8eae-03e05f815e6f.png" style="width:37.25em;height:15.42em;"/></p>
<p class="mce-root">So, that's how you can simply get today's date, and format it in various ways, in the Go language. In our next section, we're going to learn how to add or subtract from date values.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding and subtracting from a date</h1>
                </header>
            
            <article>
                
<p>In this section, we're going to learn how to add and subtract from a date value.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding to the date</h1>
                </header>
            
            <article>
                
<p>Let's go ahead and learn how to add one month to the current date. But before doing that, we'll need to know the current date. You can do this by following the procedure that we learned in our previous section. Consider that I got 8th August (<kbd>2018-08-08 09:35:16.2687997 +0530 IST m=+0.003951601</kbd>) as the output and we have to add one more month to this value. By using the <kbd>AddDate</kbd> function on the  <kbd>time</kbd> type, we can add as many years, months, and days as we want, since it accepts three parameters. This is how the entire code will look:</p>
<pre>package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  current := time.Now()<br/>  septDate := current.AddDate(0,1,0)<br/><br/>  fmt.Println(current.String())<br/>  fmt.Println(septDate.String())<br/>}</pre>
<p>So, looking at the following screenshot of the output, you will notice that we have successfully added one extra month to August by passing the value <kbd>1</kbd> to the second parameter:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-720 image-border" src="assets/3a6073c4-66a5-42d8-ba0f-fb758ab84dbe.png" style="width:32.25em;height:13.42em;"/></p>
<p class="mce-root"/>
<p>We can carry out the same procedure to add years. You can change the <kbd>years:</kbd> parameter to <kbd>1</kbd> and have <kbd>2018</kbd> changed to <kbd>2019</kbd> in the output. This can be seen in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-721 image-border" src="assets/5b6c8f00-2155-4c1a-96bb-9a670bebc1e8.png" style="width:36.67em;height:15.17em;"/></p>
<p>That's pretty much how you add to date values.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Subtracting from the date</h1>
                </header>
            
            <article>
                
<p>The second thing we are going to learn is how to subtract dates from a current date. As you can see in the following line of code, we have used the <kbd>Sub</kbd> method because it accepts another <kbd>time</kbd> type:</p>
<pre>septDate.Sub(time.Date(2000, 1, 1, 0, 0, 0, 0, time.UTC))</pre>
<p>Instead, we are going to use <kbd>AddDate</kbd> and pass a negative value to the parameter. So, let's assign it to another variable and run the following code:</p>
<pre>package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  current := time.Now()<br/>  septDate := current.AddDate(1,1,0)<br/><br/>  fmt.Println(current.String())<br/>  fmt.Println(septDate.String())<br/><br/>  //septDate.Sub(time.Date(2000, 1, 1, 0, 0, 0, 0, time.UTC))<br/><br/>  oneLessYears := septDate.AddDate(-1,0,0)<br/>  fmt.Println(oneLessYears.String())<br/>}</pre>
<p>The output for the following code will be as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-722 image-border" src="assets/d3c6bec3-33f8-4673-ac4b-5de57621287d.png" style="width:33.25em;height:13.42em;"/></p>
<p>As you can see, we obtained <kbd>2018</kbd> by subtracting <kbd>1</kbd> from <kbd>2019</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding time</h1>
                </header>
            
            <article>
                
<p>Now, consider that you need to add time instead of months or years. To go ahead, we have to use <kbd>Add</kbd>, which has <kbd>duration</kbd>, which is the amount of time that you want to add.</p>
<p>For instance, let's imagine that we want to add 10 minutes. Check the following code:</p>
<pre>package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  current := time.Now()<br/>  septDate := current.AddDate(1,1,0)<br/><br/>  fmt.Println(current.String())<br/>  fmt.Println(septDate.String())<br/><br/>  //septDate.Sub(time.Date(2000, 1, 1, 0, 0, 0, 0, time.UTC))<br/><br/>  oneLessYears := septDate.AddDate(-1,0,0)<br/>  fmt.Println(oneLessYears.String())<br/><br/>  tenMoreMinutes := septDate.Add(10 * time.Minute)<br/>  fmt.Println(tenMoreMinutes)<br/>}</pre>
<p>The code returns another type or value, which is the <kbd>time</kbd> type, and if you look at the output, shown here, we added 10 minutes to the September date:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-723 image-border" src="assets/88deb3f1-dc61-49e1-9cee-11d9c9c745f2.png" style="width:32.33em;height:13.42em;"/></p>
<p>Now, if I look at the output, we can see that we added <kbd>10</kbd> minutes and so <kbd>10:10:24</kbd> has changed to <kbd>10:20:24</kbd>. If I change <kbd>Minute</kbd> to <kbd>Hour</kbd>, and run the code, we will see that we added <kbd>10</kbd> hours from the September date, which can be seen in the following code block:</p>
<pre>package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  current := time.Now()<br/>  septDate := current.AddDate(1,1,0)<br/><br/>  fmt.Println(current.String())<br/>  fmt.Println(septDate.String())<br/><br/>  oneLessYears := septDate.AddDate(-1,0,0)<br/>  fmt.Println(oneLessYears.String())<br/><br/>  tenMoreMinutes := septDate.Add(10 * time.Hour)<br/>  fmt.Println(tenMoreMinutes)<br/>}</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>We will be getting the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-724 image-border" src="assets/f1dbdcea-0904-4ee5-9f49-e16905899147.png" style="width:76.67em;height:26.75em;"/></p>
<p>So, that's basically how you do time adding. In our next section, we are going to see how to find the difference between two date values.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Finding the difference between two dates</h1>
                </header>
            
            <article>
                
<p>In this section, we are going to learn how to find the difference between two dates. Let's imagine that we have two dates, as shown in the following code block, and you will see that the signature of this method is self-explanatory. So, all we have to do is use the following code for the subtract method which subtracts the first date from the second one:</p>
<pre>package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  first := time.Date(2017, 1,1,0,0,0,0,time.UTC)<br/>  second := time.Date(2018, 1,1,0,0,0,0,time.UTC)<br/><br/>  difference := second.Sub(first)<br/>  fmt.Printf("Difference %v", difference)<br/>}</pre>
<p>Now, before we run the code and obtain the output, if you check the signature, you will see that the method returns <kbd>Duration</kbd> instead of the <kbd>Time</kbd> type between the dates:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-725 image-border" src="assets/80ae7ed8-0d3e-454b-86a8-9718e3375118.png" style="width:84.83em;height:16.50em;"/></p>
<p>Getting back to running our code, you'll see the following output:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-726 image-border" src="assets/324aafb5-1f42-491c-bb2d-fc30f89e9b59.png" style="width:25.67em;height:15.25em;"/></p>
<p>This is how you simply find the difference between two dates. In our next section, we're going to learn how to parse dates and times from a given string.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Parsing dates and times from strings</h1>
                </header>
            
            <article>
                
<p>In this section, we're going to learn how to parse dates and times from strings. This section will conclude our chapter. When you parse dates and times from a string, you need two things:  the first is layout and the second item is the actual string that you want to parse. So, let's imagine that we have a variable that holds the <kbd>str := "2018-08-08T11:45:26.371Z"</kbd> string value. </p>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>In order for Go to understand this, you need to provide a <kbd>layout</kbd> attribute. A <kbd>layout</kbd> attribute basically describes how your string <kbd>DateTime</kbd> looks; it starts with a year, followed by a month, and day, and then the time. As always, the <kbd>time</kbd> package provides us with various utility functions that we can use to play with the date and time. The <kbd>Parse</kbd> method returns two things, one is the parse date and the other one is an error. If anything happens during parsing, an error can be thrown and we can check the error and see what went wrong, otherwise we will just output the string representation of the time now and the time we parsed. So, let's run the following code:</p>
<pre>package main<br/><br/>import (<br/>  "time"<br/>  "fmt"<br/>)<br/><br/>func main(){<br/>  str := "2018-08-08T11:45:26.371Z"<br/>  layout := "2006-01-02T15:04:05.000Z"<br/>  t,err := time.Parse(layout, str)<br/>  if err != nil{<br/>    fmt.Println(err)<br/>  }<br/>  fmt.Println(t.String())<br/>}</pre>
<p>The output to the code we ran is as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-727 image-border" src="assets/3a1c2d95-5493-4519-8444-610368de885d.png" style="width:25.75em;height:15.08em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>As you can see, we captured <span>exactly</span> what we were trying to parse <span>as a date.</span> This is how you do the parsing in Go.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter,  we have learned how to find the current date and time, how to add to and subtract from dates, how to find the difference between two dates, and how to parse dates and times from strings. In the next chapter, <span>you will learn how to work with maps and arrays in the Go language. You will see practical examples for manipulating and iterating arrays, merging arrays and maps, and testing whether a key is present in a map.</span></p>


            </article>

            
        </section>
    </body></html>