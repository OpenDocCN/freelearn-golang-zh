<html><head></head><body>
		<div id="_idContainer003">
			<h1 id="_idParaDest-5" lang="en-GB"><a id="_idTextAnchor004"/>Preface</h1>
			<p lang="en-GB">Since its first release, the Go programming language has gained popularity among all types of software developers. Simple language syntax, ease of use, and a rich set of libraries made Go one of the primary languages for writing different kinds of software, from small tools to large-scale systems consisting of hundreds of components.</p>
			<p lang="en-GB">Among the primary Go use cases is microservice development – the development of individual applications, called microservices, that can play various roles, from processing payments to storing user data. Organizing a large system as a set of microservices often brings multiple advantages, such as increasing the development and deployment speed, but also brings multiple types of challenges. Among such challenges are service discovery and communication, integration testing, and service monitoring.</p>
			<p lang="en-GB">In this book, we will illustrate how to implement Go microservices and establish communication between them, how to enable the deployment of individual microservices and secure their interactions, and how to store and retrieve service data and provide service APIs, enabling other applications to use our microservices. You will learn about some of the industry’s best practices related to all of these topics and get a detailed overview of the possible challenges along the way, as well as the possible benefits. The knowledge that you will gain by reading this book will help you to both create new microservices and efficiently maintain the existing ones. I hope this journey will be exciting for you!</p>
			<h1 id="_idParaDest-6" lang="en-GB"><a id="_idTextAnchor005"/>Who this book is for</h1>
			<p lang="en-GB">This book is for all types of developers: from people interested in learning how to write microservices in Go to seasoned professionals who want to take the next step in mastering the art of writing scalable and reliable microservice-based systems. The first two parts of the book, covering the development of microservices, would be useful to developers who are just starting their experience with Go or those who are interested in the best practices of organizing the Go application code base according to the industry’s best standards; the final part would be useful for all developers, even the most experienced ones, as it provides great insights on maintaining and operating microservices at scale.</p>
			<h1 id="_idParaDest-7" lang="en-GB"><a id="_idTextAnchor006"/>What this book covers</h1>
			<p lang="en-GB"><a href="B18865_01.xhtml#_idTextAnchor015"><em class="italic" lang="">Chapter 1</em></a>, <em class="italic" lang="">Introduction to Microservices</em>, will cover the key benefits of and common issues with a microservice architecture, helping you to understand which problems microservices solve and which challenges they usually introduce. The chapter emphasizes the role of the Go programming language in microservice development and lays down the foundation for the rest of the book.</p>
			<p lang="en-GB"><a href="B18865_02.xhtml#_idTextAnchor027"><em class="italic" lang="">Chapter 2</em></a>, <em class="italic" lang="">Scaffolding a Go Microservice</em>, will introduce the you to the main principles of the Go programming language and provide the most important recommendations for writing Go code. It will cover the process of setting up the right structure to organize the microservice code in Go and introduce the you to an example application consisting of three microservices. Finally, the chapter will illustrate how to scaffold the code for each of the example microservices. The example microservices implemented in this chapter are going to be used throughout the book, with each chapter adding new features to them.</p>
			<p lang="en-GB"><a href="B18865_03.xhtml#_idTextAnchor051"><em class="italic" lang="">Chapter 3</em></a>, <em class="italic" lang="">Service Discovery</em>, will talk about the problem of service discovery and illustrates how different services can find each other in a microservice environment. It will cover the most popular service discovery tools and walk the you through the steps of adding service discovery logic to the example microservices from the previous chapter.</p>
			<p lang="en-GB"><a href="B18865_04.xhtml#_idTextAnchor067"><em class="italic" lang="">Chapter 4</em></a>, <em class="italic" lang="">Serialization</em>, will bring us to the concept of data serialization, which is required for understanding upcoming chapters covering microservice communication. The you will be introduced to the Protocol Buffers data format, which is going to be used for encoding and decoding the data transferred between our example microservices. The chapter will provide examples of how to define serializable data types and generate code for them, and how to use the generated code in Go microservices.</p>
			<p lang="en-GB"><a href="B18865_05.xhtml#_idTextAnchor076"><em class="italic" lang="">Chapter 5</em></a>, <em class="italic" lang="">Synchronous Communication</em>, will cover the topic of synchronous communication between microservices. It will illustrate how to define service APIs using the Protocol Buffers format and introduce the you to gRPC, a service communication framework. The chapter will wrap up with examples of how to implement microservice gateways and clients and perform remote calls between our microservices.</p>
			<p lang="en-GB"><a href="B18865_06.xhtml#_idTextAnchor088"><em class="italic" lang="">Chapter 6</em></a>, <em class="italic" lang="">Asynchronous Communication</em>, will talk about asynchronous communication between microservices. It will introduce the you to a popular asynchronous communication tool, Apache Kafka, and provide examples of sending and receiving messages, using it for our example microservices. The chapter will wrap up with an overview of the best practices for using asynchronous communication in microservice environments.</p>
			<p lang="en-GB"><a href="B18865_07.xhtml#_idTextAnchor102"><em class="italic" lang="">Chapter 7</em></a>, <em class="italic" lang="">Storing Service Data</em>, will cover the topic of persisting service data in databases. The you will learn about the common types of databases and the benefits they bring to software developers. The chapter will walk the you through the process of implementing the logic for storing service data in a MySQL database.</p>
			<p lang="en-GB"><a href="B18865_08.xhtml#_idTextAnchor109"><em class="italic" lang="">Chapter 8</em></a>, <em class="italic" lang="">Deployment with Kubernetes</em>, will talk about service deployment and provide an overview of a popular deployment and orchestration platform, Kubernetes. The chapter will illustrate how to prepare service code for deployment and how to deploy it using Kubernetes. The chapter will include the best practices for deploying microservice applications.</p>
			<p lang="en-GB"><a href="B18865_09.xhtml#_idTextAnchor124"><em class="italic" lang="">Chapter 9</em></a>, <em class="italic" lang="">Unit and Integration Testing</em>, will describe the common techniques of testing Go microservice code. It will cover the basics of Go unit and integration testing and demonstrate how to test the microservice code from the previous chapters. The chapter will wrap up with the industry’s best practices for writing and organizing tests.</p>
			<p lang="en-GB"><a href="B18865_10.xhtml#_idTextAnchor139"><em class="italic" lang="">Chapter 10</em></a>, <em class="italic" lang="">Reliability Overview</em>, will introduce the you to the topic of system reliability and describe the core principles, instruments, and industry best practices for building reliable and highly available microservices. It will illustrate how to automate service responses to various types of failures, as well as how to establish the processes for keeping service reliability under control.</p>
			<p lang="en-GB"><a href="B18865_11.xhtml#_idTextAnchor152"><em class="italic" lang="">Chapter 11</em></a><em class="italic" lang="">,</em> <em class="italic" lang="">Collecting Service Telemetry Data</em>, will provide a detailed overview of modern instruments and solutions for collecting service telemetry data, such as logs, metrics, and traces. The chapter will provide lots of detailed examples of collecting all different types of telemetry data and list some of the best practices for working with them.</p>
			<p lang="en-GB"><a href="B18865_12.xhtml#_idTextAnchor171"><em class="italic" lang="">Chapter 12</em></a>, <em class="italic" lang="">Setting up Service Alerting</em>, will illustrate how to set up automated incident detection and notification for microservices, using the telemetry data collected in the previous chapter. It will introduce the you to a popular alerting and monitoring tool, Prometheus, and show how to set up Prometheus alerts for our example microservices.</p>
			<p lang="en-GB"><a href="B18865_13.xhtml#_idTextAnchor181"><em class="italic" lang="">Chapter 13</em></a>, <em class="italic" lang="">Advanced Topics</em>, will wrap up the last part of the book and cover some of the advanced topics in microservice development, such as profiling, dashboarding, frameworks, service ownership, and security. The chapter will include some examples of setting up secure communication between Go microservices using the JWT protocol.</p>
			<h1 id="_idParaDest-8" lang="en-GB"><a id="_idTextAnchor007"/>To get the most out of this book</h1>
			<p lang="en-GB"><em class="italic" lang="">I suggest you get some familiarity with Go by implementing a few applications, such as simple web services. Familiarity with a Docker tool would be a plus because we will be using it for running some of the tools that our microservices will be using. Finally, I strongly suggest implementing, running, and playing with the example microservices that we will be implementing so that all your knowledge will be cemented by practice.</em></p>
			<table id="table001" class="No-Table-Style">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="bold" lang="">Software/hardware covered in the book</strong></p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="bold" lang="">Operating system requirements</strong></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="source-inline" lang="">Go 1.11</strong> or above</p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB">Windows, macOS, or Linux</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="source-inline" lang="">Docker</strong></p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB">Windows, macOS, or Linux</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="source-inline" lang="">grpcurl</strong></p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB">Windows, macOS, or Linux</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="source-inline" lang="">Kubernetes</strong></p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB">Windows, macOS, or Linux</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="source-inline" lang="">Prometheus</strong></p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB">Windows, macOS, or Linux</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="source-inline" lang="">Jaeger</strong></p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB">Windows, macOS, or Linux</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p lang="en-GB"><strong class="source-inline" lang="">Graphviz</strong></p>
						</td>
						<td class="No-Table-Style">
							<p lang="en-GB">Windows, macOS, or Linux</p>
						</td>
					</tr>
				</tbody>
			</table>
			<p lang="en-GB"><strong class="bold" lang="">If you are using the digital version of this book, we advise you to type the code yourself or access the code from the book’s GitHub repository (a link is available in the next section). Doing so will help you avoid any potential errors related to the copying and pasting of code.</strong></p>
			<h1 id="_idParaDest-9" lang="en-GB"><a id="_idTextAnchor008"/>Download the example code files</h1>
			<p lang="en-GB">You can download the example code files for this book from GitHub at <a href="https://github.com/PacktPublishing/microservices-with-go">https://github.com/PacktPublishing/microservices-with-go</a>. If there’s an update to the code, it will be updated in the GitHub repository.</p>
			<p lang="en-GB">We also have other code bundles from our rich catalog of books and videos available at <a href="https://github.com/PacktPublishing/">https://github.com/PacktPublishing/</a>. Check them out!</p>
			<h1 id="_idParaDest-10" lang="en-GB"><a id="_idTextAnchor009"/>Download the color images</h1>
			<p lang="en-GB">We also provide a PDF file that has color images of the screenshots and diagrams used in this book.</p>
			<p lang="en-GB">You can download it here: <a href="https://packt.link/1fb2C">https://packt.link/1fb2C</a>.</p>
			<h1 id="_idParaDest-11" lang="en-GB"><a id="_idTextAnchor010"/>Conventions used</h1>
			<p lang="en-GB">There are a number of text conventions used throughout this book.</p>
			<p lang="en-GB"><strong class="source-inline" lang="">Code in text</strong>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here is an example: “Mount the downloaded <strong class="source-inline" lang="">WebStorm-10*.dmg</strong> disk image file as another disk in your system.”</p>
			<p lang="en-GB">A block of code is set as follows:</p>
			<pre class="source-code" lang="en-GB">
package main
 
import (
    "encoding/json"
    "fmt"
    "os"
    "time"
 
    "github.com/confluentinc/confluent-kafka-go/kafka"
    "movieexample.com/rating/pkg/model"
)</pre>
			<p lang="en-GB">When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p>
			<pre class="source-code" lang="en-GB">
    if err := p.Produce(&amp;kafka.Message{
<strong class="bold" lang="">TopicPartition: kafka.TopicPartition{Topic: &amp;topic, Partition: kafka.PartitionAny},</strong>
Value:          []byte(encodedEvent),
}, nil); err != nil {
        return err
    }
    return nil</pre>
			<p lang="en-GB">Any command-line input or output is written as follows:</p>
			<pre class="source-code" lang="en-GB">
mysql movieexample -h localhost -P 3306 --protocol=tcp -u root -p</pre>
			<p lang="en-GB"><strong class="bold" lang="">Bold</strong>: Indicates a new term, an important word, or words that you see on screen. For instance, words in menus or dialog boxes appear in <strong class="bold" lang="">bold</strong>. Here is an example: “Select <strong class="bold" lang="">System info</strong> from the <strong class="bold" lang="">Administration</strong> panel.”</p>
			<p class="callout-heading" lang="en-GB">Tips or important notes	</p>
			<p class="callout" lang="en-GB">Appear like this.</p>
			<h1 id="_idParaDest-12" lang="en-GB"><a id="_idTextAnchor011"/>Get in touch</h1>
			<p lang="en-GB">Feedback from our readers is always welcome.</p>
			<p lang="en-GB"><strong class="bold" lang="">General feedback</strong>: If you have questions about any aspect of this book, email us at <a href="mailto:customercare@packtpub.com">customercare@packtpub.com</a> and mention the book title in the subject of your message.</p>
			<p lang="en-GB"><strong class="bold" lang="">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="http://www.packtpub.com/support/errata">www.packtpub.com/support/errata</a> and fill in the form.</p>
			<p lang="en-GB"><strong class="bold" lang="">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <a href="mailto:copyright@packt.com">copyright@packt.com</a> with a link to the material.</p>
			<p lang="en-GB"><strong class="bold" lang="">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="http://authors.packtpub.com">authors.packtpub.com</a>.</p>
		</div>
		<div id="_idContainer004" class="Basic-Text-Frame">
			<p class="hidden" lang="en-GB">Preface</p>
		</div>
		<div id="_idContainer005">
			<h1 id="_idParaDest-13" lang="en-GB"><a id="_idTextAnchor012"/>Share Your Thoughts</h1>
			<p lang="en-GB">Once you’ve read <em class="italic" lang="">Microservices with Go</em>, we’d love to hear your thoughts! Please <a href="https://packt.link/r/1804617008">click here to go straight to the Amazon review page</a> for this book and share your feedback.</p>
			<p lang="en-GB">Your review is important to us and the tech community and will help us make sure we’re delivering excellent quality content.</p>
		</div>
		<div id="_idContainer007">
			<h1 id="_idParaDest-14" lang="en-GB"><a id="_idTextAnchor013"/>Download a free PDF copy of this book</h1>
			<p lang="en-GB">Thanks for purchasing this book!</p>
			<p lang="en-GB">Do you like to read on the go but are unable to carry your print books everywhere?</p>
			<p lang="en-GB">Is your eBook purchase not compatible with the device of your choice?</p>
			<p lang="en-GB">Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</p>
			<p lang="en-GB">Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into your application. </p>
			<p lang="en-GB">The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily</p>
			<p lang="en-GB">Follow these simple steps to get the benefits:</p>
			<ol>
				<li lang="en-GB">Scan the QR code or visit the link below</li>
			</ol>
			<p class="IMG---Caption" lang="en-GB"> </p>
			<div>
				<div id="_idContainer006" class="IMG---Figure">
					<img src="image/B18865_QR_Free_PDF.jpg" alt=""/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-GB"><a href="">https://packt.link/free-ebook/978-1-80461-700-7</a></p>
			<ol>
				<li lang="en-GB" value="2">Submit your proof of purchase</li>
				<li lang="en-GB">That’s it! We’ll send your free PDF and other benefits to your email directly</li>
			</ol>
		</div>
	

		<div id="_idContainer008" class="Content">
			<h1 id="_idParaDest-15" lang="en-GB"><a id="_idTextAnchor014"/>Part 1: Introduction</h1>
			<p lang="en-GB">This part provides an overview of the microservice architecture model. It covers the key benefits and common issues of microservices, helping the readers to understand which problems the microservice architecture helps to solve and which issues it usually introduces. The single chapter in this part focuses on the role of the Go programming language in microservice development and lays down the foundation for the rest of the book.</p>
			<p lang="en-GB">This part contains the following chapter:</p>
			<ul>
				<li lang="en-GB"><a href="B18865_01.xhtml#_idTextAnchor015"><em class="italic" lang="">Chapter 1</em></a>, <em class="italic" lang="">Introduction to Microservices</em></li>
			</ul>
		</div>
	</body></html>